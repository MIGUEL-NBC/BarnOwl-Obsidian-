{"path":"Referenced Material/Reference Library/Vendor/Avid/iNews/iNEWS-Azure-IG-2017.pdf","text":"iNEWS & Azure Integration 1 iNEWS® NRCS with Microsoft Azure Integration Guide Date Revised Changes Made 15 Sept 2017 Updated to CentOS v7.3 & added FTS info 18 Jan 2017 Initial Document Important Information Avid recommends that you thoroughly read all of the information in this file before installing or using any new software release. This document describes integration procedures and information related to integration of Avid iNEWS and Microsoft Azure. Additional information on iNEWS is available online in guides and ReadMe files. For more information about Azure, please refer to Microsoft documentation. Note: Search the Avid Knowledge Base (http://www.avid.com/onlinesupport) for the most up- to-date product documentation, which contains the latest information that might have become available after this version was published. iNEWS & Azure Integration 2 Contents Important Information ........................................................................................................................................... 1 Contents ................................................................................................................................................................ 2 Integration Overview ............................................................................................................................................. 3 Before You Start.................................................................................................................................................... 3 Route based VPN .............................................................................................................................................. 3 Performance Consideration for Virtual Machine Options ................................................................................... 3 Performing iNEWS Setup and Administrative Operation ................................................................................... 3 Known Limitations ............................................................................................................................................ 4 Setting up iNEWS in Azure ................................................................................................................................... 4 Setting up VM via Azure ................................................................................................................................... 4 Setting up the iNEWS Server ........................................................................................................................... 10 Setting up FTS Server in Azure ........................................................................................................................... 15 Create FTS VMs on Azure............................................................................................................................... 15 Installing the FTS Server ................................................................................................................................. 19 Technical Support Information ............................................................................................................................ 20 Accessing Online Support ................................................................................................................................ 20 iNEWS & Azure Integration 3 Integration Overview This guide provides administrative procedures that cover:  Setting up iNEWS in Azure o Setting up VM via Azure o Installing iNEWS Server  Setting up FTS Server in Azure o Setting up FTS VM via Azure o Installing FTS Server Please consult the “Before You Start” section for guidance on preparation and decisions to prepare the setup procedures as well as for known limitations. Before You Start Route based VPN Avid iNEWS in Azure is a hybrid deployment that means some services will run on virtual machines in Azure while others will run on premise, upon your choice either virtualized or on hardware. To allow communication between these services, a route based VPN connection is required to “embed” the Azure machines into your network. This can be either a site to site connection (S2S) or an Express Route. Express Route can be used if already present, but its faster throughput is not required for operating the iNEWS environment. Note: When setting up your S2S VPN, you would need at least SKU VpnGw1. Also, Microsoft recommends not to use special characters in the shared key and Azure prefers Route Based connections. Performance Consideration for Virtual Machine Options When selecting Azure virtual machine for your operation, please take into consideration the same criteria as you do for a hardware based setup or an on premise virtual environment. The recommendation in this document are not adjusted to individual needs. Note: The current virtual machine recommendation is based on the minimum requirements Azure virtual machines support hard disk drives (HDD) or solid state disks (SSD) as storage devices. The two options differ in performance (IOPS) but also in costs. SSD offers higher IOPS at an increased price. Your selection of a hard disk type should weigh performance needs for regular operations compared to the requirements for I/O heavy maintenance operations. Note: Azure VM with SSD greatly improve specific disk intensive operations. Tests comparing a hardware setup (HDD) with an Azure VM with HDD and an Azure VM with SSD (Azure setups each at minimum specification) showed the following tendencies when checking operations using a standard database:  User operation like editing stories or renumbering queues perform similar well on each setup.  I/O heavy maintenance operations such as dbdump, dbrestore, and uuidtraits perform notably slower on Azure VM with HDD compared to hardware.  I/O heavy maintenance operations such as dbdump, dbrestore, and uuidtraits performed with partly significant better results (but at least the same performance) on Azure VM with SSD compared to hardware. Performing iNEWS Setup and Administrative Operation The following are some important procedures to adhere to when setting up VM with iNEWS: iNEWS & Azure Integration 4  After the installation, while working with iNEWS server in console, be sure to use “sudo” instead of “su” that is not supported in Azure. Also, enter the full path to iNEWS utilities in folder /exc when running commands as “sudo”. Example: AZURE-A$ sudo /exc/utraits avstar +log [sudo] password for so: 1 user record modified Known Limitations The following limitations apply to operating iNEWS in Azure:  iNEWS system installation supports A-type only.  Sendmail functionality between iNEWS users is not supported. Setting up iNEWS in Azure Azure integration is only supported on an iNEWS single-server configuration. The minimum hardware requirements for the iNEWS server are:  2 Virtual CPUs  8 GB RAM  500 GB Virtual hard disk o 500 MB /boot o 50 GB / o 8 GB swap o 138 GB /rp5 o 138 GB /rp5backup  1 Network interface card  CentOS x86_64 7.3 Setting up VM via Azure You need an Azure account and SSH public and private key files for using the Azure portal to create a Linux Virtual Machine. To create the iNEWS Server virtual machine perform the following steps: 1. Sign into the Azure portal (https://portal.azure.com) with your Azure account identity. 2. Click “+ New” in the upper left area of the sidebar menu. 3. Select a CentOS from the list of Featured Apps or search the Marketplace for CentOS. It is recommended to select “CentOS-based 7.3 VM” for iNEWS server installation. iNEWS & Azure Integration 5 4. On the “Basics” page enter data for all fields: a. A name for the virtual machine, such as AZURE. Avid recommends using the iNEWS system ID. b. Enter so as the username for the Admin User. c. Select either SSH public key or Password as Authentication Type. d. Create a new resource group name or select an existing one, such as inews. Note: It’s important to remember these basic credentials; they will be used further. 5. Click OK to continue. 6. Choose a VM size. D2S_V3 VM satisfies the requirements—2 Core, 8 GB RAM—and has better Max IOPs value than other options. iNEWS & Azure Integration 6 7. Keep the default values in the “Settings” page, unless you have special requirements. iNEWS & Azure Integration 7 8. Click OK to view the summary. 9. Verify Offer details and purchase the VM. 10. Wait until deployment is complete. The VM will be available on the Azure portal dashboard. After the deployment has completed, the VM summary automatically opens. An Overview of the result will appear. iNEWS & Azure Integration 8 11. Under SETTINGS, select “Disks”. Add one more disk to the VM for the iNEWS server. a. Select “SSD” or “HDD” for Account type and 300 for Size (GiB). Note: Please refer to the introductory section “Performance Consideration for Virtual Machine Options” on the impact of the disk type selection. b. Click “Create” to add the disk to your VM. iNEWS & Azure Integration 9 12. Save changes with default HOST CACHING settings. iNEWS & Azure Integration 10 Setting up the iNEWS Server Connect to your virtual machine by SSH using the previously created credentials. You can find the necessary IP address in the VM Overview. Now that you’ve created a Linux VM, some configuration of iNEWS is necessary. This section assumes a working knowledge of iNEWS system administration. To configure iNEWS for Azure integration: 1. Manually install the following file: log4cpp-1.0-13.el6_5.1.x86_64.rpm. Place the .rpm file into any folder, and run the yum install utility. This is necessary regardless of whether there are plans to use the CTMS service and MediaIndex. 2. Downloaded and unzip the iNEWS ISO. 3. Follow the path: “ISO”/server_RedHat6. 4. Copy linux folder to some place on disk, for example /tmp. 5. Follow the path “ISO”/ StarterDatabase. 6. Copy starter.gz file to the linux folder that is copy/pasted previously, for example /tmp/linux. 7. Enter linux folder, for example /tmp/linux. 8. Run the iNEWS System Configuration utility: sudo sh configure.sh 9. Select “System Configuration”. iNEWS & Azure Integration 11 10. Select “System Name”. 11. Edit System Name, which can be a maximum of eight characters. iNEWS & Azure Integration 12 12. Select OK. 13. Save changes by selecting “Back”. 14. Select “License”, enter the SiteKey and License string, and then save changes by selecting OK. iNEWS & Azure Integration 13 15. Select “Back” and then select “Yes” to save the new configuration. 16. Use the sudo command to run the deploy utility: sudo sh deploy.sh Note: By default deploy.sh uses a hidden configuration file (inews.config), which is created when you exit from the configuration utility. iNEWS & Azure Integration 14 17. Review and accept License Agreement. The system is ready to use. iNEWS & Azure Integration 15 Setting up FTS Server in Azure FTS allows fast, efficient searching through large quantities of text material using indexes. There are two server (utility) programs related to Fast Text Search (FTS) of the iNEWS system: the one that performs fast text searches and the one that indexes stories in the FTS database. FTS requires the setup of these two utility programs (ftsindex and ftsseek) on iNEWS Servers. Additionally, two executable files (ftsidx.exe and ftssch.exe) must be installed and running on a Windows-based server. Fast Text Search is qualified in a virtualized environment when the guest OS instance meets the application’s minimum system requirements. Minimum requirements for the FTS VM are:  Windows Server 2016 OS  2 virtual CPUs  4 GB RAM  C:\\ 80 GB virtual hard disk  1 network interface card Create FTS VMs on Azure To create the FTS virtual machine: 1. Sign into the Azure portal (https://portal.azure.com) with your Azure account identity. 2. Click + New in the upper left corner. 3. Select from the list of Featured Apps or search the Marketplace for OS. It is recommended to select Windows Server 2016 as a base for FTS VM. iNEWS & Azure Integration 16 4. On the Basics page, enter data in all fields: a. A name for the virtual machine, such as FTS-AZURE. b. A username for the Admin User, such as Avidadmin. c. The password for the Admin User. d. A resource group name, or select to use an existing group, such as inews. 5. Click OK to continue. 6. Choose a VM size. Select D2S_V3 VM as it is satisfies requirements. iNEWS & Azure Integration 17 7. In Settings, unless you have special needs, leave the defaults. iNEWS & Azure Integration 18 8. Click OK to view the summary. 9. Verify Offer details and purchase VM. Wait until deployment is complete. The VM will be available on the Azure portal dashboard. After the deployment has completed, the VM summary automatically opens. An Overview of the result will appear. iNEWS & Azure Integration 19 Installing the FTS Server Installing the FTS server requires running the FTS installer; however, for the FTS installer to complete successfully, the .NET Framework 3.5 should be installed. To install .NET Framework: 1. Open Server Manager and navigate to Manage and add rule and features. 2. Just click next to Features section and select the .Net framework 3.5 then click Next. To install FTS server: 1. Login to server with remote desktop connection. 2. Copy and paste FTS server installer to some place on the server. 3. Run FTS server installer For more information on setting up FTS, see the “Fast Text Search Servers” section in the “Servers” chapter of the Avid iNEWS Setup and Configuration Guide. iNEWS & Azure Integration 20 Technical Support Information Most products feature a number of coverage options. Avid Assurance service offerings are designed to facilitate your use of Avid solutions. Service options include extended telephone coverage, automatic software maintenance, extended hardware warranty, and preferred pricing on replacement parts. Offerings and options may vary by product and are not available for all products. For more information regarding Avid service offerings, visit www.avid.com/support or call Avid Sales at 800-949-AVID (800-949-2843). Program availability and details might vary depending on geographic location and are subject to change without notice. Contact your local Avid office or your local Avid Reseller for complete program information and pricing. However, if you need help locating an Avid office or Avid Reseller near you, please visit www.avid.com or call in North America 800-949-AVID (800-949-2843). International users call 978-275-2480. Accessing Online Support Avid Online Support is available 24 hours per day, 7 days per week. Search the Knowledge Base to find answers, to view error messages, to access troubleshooting tips, to download updates, and to read/join online message-board discussions. To access Avid Online Support:  Go to www.support.avid.com . Note: Supplemental documentation for product releases, if available, is provided on the Knowledge Base. For the latest up-to-date information, browse the Knowledge Base at Avid Online Support. iNEWS & Azure Integration 21 Copyright and Disclaimer Product specifications are subject to change without notice and do not represent a commitment on the part of Avid Technology, Inc. The software described in this document is furnished under a license agreement. You can obtain a copy of that license by visiting Avid's Web site at www.avid.com. The terms of that license are also available in the product in the same directory as the software. The software may not be reverse assembled and may be used or copied only in accordance with the terms of the license agreement. It is against the law to copy the software on any medium except as specifically allowed in the license agreement. No part of this document may be reproduced or transmitted in any form or by any means, electronic or mechanical, including photocopying and recording, for any purpose without the express written permission of Avid Technology, Inc. Copyright © 2017 Avid Technology, Inc. and its licensors. All rights reserved. Attn. Government User(s). Restricted Rights Legend U.S. GOVERNMENT RESTRICTED RIGHTS. This Software and its documentation are “commercial computer software” or “commercial computer software documentation.” In the event that such Software or documentation is acquired by or on behalf of a unit or agency of the U.S. Government, all rights with respect to this Software and documentation are subject to the terms of the License Agreement, pursuant to FAR §12.212(a) and/or DFARS §227.7202-1(a), as applicable. Trademarks Adrenaline, AirSpeed, ALEX, Alienbrain, Archive, Archive II, Assistant Avid, Avid Unity, Avid Unity ISIS, Avid VideoRAID, CaptureManager, CountDown, Deko, DekoCast, FastBreak, Flexevent, FXDeko, iNEWS, iNEWS Assign, iNEWS ControlAir, Instinct, IntelliRender, Intelli-Sat, Intelli-sat Broadcasting Recording Manager, Interplay, ISIS, IsoSync, LaunchPad, LeaderPlus, ListSync, MachineControl, make manage move | media, Media Composer, NewsCutter, NewsView, OMF, OMF Interchange, Open Media Framework, Open Media Management, SIDON, SimulPlay, SimulRecord, SPACE, SPACEShift, Sundance Digital, Sundance, Symphony, Thunder, Titansync, Titan, UnityRAID, Video the Web Way, VideoRAID, VideoSPACE, VideoSpin, and Xdeck are either registered trademarks or trademarks of Avid Technology, Inc. in the United States and/or other countries. All other trademarks contained herein are the property of their respective owners. Avid iNEWS & Azure Integration Guide • 23 September 2017 This document is distributed by Avid in online (electronic) form only, and is not available in printed form.","libVersion":"0.3.1","langs":""}