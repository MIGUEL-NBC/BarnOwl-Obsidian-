{"path":"Referenced Material/PDF Library/Vendor/DNF/Creating-a-GTP-32-Tally-Radio-Group-for-the-USP1.pdf","text":"Page 1 of 5 Creating a GTP-32 Tally Radio Group for the USP Revision 10/09/13 OVERVIEW Multiple USP keys are used to select one of eight or one of sixteen graphics, looping video clips, router salvos, KVM salvos etc on a device or devices. Because each selection may be cumulative to the device’s current state, it may difficult to provide a tally based upon the device’s status. Instead, the operator just wants to know the last USP button that they pressed. To accomplish this, the last pressed USP button will be tallied and the 2nd to last key press will be un-tallied. From the operator’s perspective: They press USP Key #1 and Key #1 turns on. They press Key #2 and Key #1 turns off and Key #2 turns on. So forth and so on for the rest of the keys that are a member of the “radio group”. SOLUTION It is assumed that the USP has been configured to send its key presses to the GTP-32, and the GTP-32 has been configured to know what to do with the key presses it receives. The next step is to create tally “events” on the GTP-32 that can be sent to the USP. Upon receipt of these events, the USP will control the displayed backlight on the keys— Tally On Color or Tally Off Color. One tally event will be sent from the GTP-32 to the USP for each key that is a member of the “radio group”. Since the USP keys are acting as a tally radio group, only one will be tallied ON at any time. The other keys will be tallied OFF. Let’s use one User Register to hold the USP key that was last pressed. Think of a User Register as a cup that holds a number of marbles. User Register labels ALWAYS begin with “UR_”. There are 250 User Registers. UR_UserReg1= 3 User Register #1 hold 3 marbles 12843 Foothill Blvd. Suite C Sylmar, California 91342 V: 818.898.3380 F: 818.898.3360 sales@dnfcontrols.com www.dnfcontrols.com Page 2 of 5 Each USP key press will put a number in UR_UserReg1 that corresponds to the USP key number pushed (USP Set User Register Value). When USP Key #5 is pressed, UR_UserReg1 will be set to 5 marbles. When USP Key #10 is pressed, UR_UserReg1 will be set to 10 marbles. We will use User Register User Defined Events to create the actual tallies that will be sent back to the USP. We will create one User Register Events Table entry for each USP Key to be tallied in the radio group. The table entry will identify a User Register value and assign an Event Label to it. For example, Event Label “LAST_KEY_4” will tell the USP that key #4 was the last pressed key. Last, but not least, the Event Notification Table will contain the list of Event Labels, used for tallying, to be sent to the USP. GTP-32 CONFIGURATION It is assumed that USP Events, USP Event Definition Table entries have been entered to tell the GTP-32 what USP key presses to receive and process. And, the Event Monitor Table has an entry that assigns the USP key press event (trigger) to an action such as turn on a GPO, or load and play a video clip. User Register Configuration Click on Event Definitions, and then User Register Configuration Click on Edit, located above the displayed table Change the name of UR_UserReg1 to UR_Last_USP_Key. The “UR_” is automatically added to your “Last_USP_Key” entry. In the Long Description column for User Register #1, enter a description of how the user register will be used. For example “Holds last pressed USP key number, from 1 to 16”. Leave Event Mode set to “Normal” User Registers Table User Register # Label Short Description Long Description Event Mode 1 UR_Last_USP_Key Holds last pressed USP key number, from 1 to 16 Normal 2 UR_UserReg2 Normal Page 3 of 5 USP Event Definitions Click on Event Definitions and then USP Events Click on ADD USP Event Definitions Local Event Label IP Address Event Type Key/ Event # Value Destination User Register Conditional User Register USP_K1_SET_UR 192.168.10.123 USP Set User Register Value 1 1 1:Last_USP_Key NONE USP_K2_SET_UR 192.168.10.123 USP Set User Register Value 2 2 1:Last_USP_Key NONE Enter a Local Event Label, letters and numbers only. Underscore (“_”) is allowed. Spaces and other symbols are not allowed. The Event Label must be unique on this GTP-32. Enter an event label that easily identifies the USP and Key number. For example: “USP_K1_SET_UR” (USP Key #1 sets User Register value.) Enter the IP address of the USP that is sending the key press Select Event type “USP Set User Register Value” Set Event# to USP key number Set Value to USP key number Set Destination User Register to “1:Last_USP_Key” Set Conditional User Register to “NONE” Create one entry of each USP key that is a member of the tally radio group [ Rest of page left blank ] Page 4 of 5 User Register User Defined Events Click on Event Definitions and then User Register User Defined Events Click on ADD Add User Register Event Definitions Event Label User Register Operator Value URE_ LAST_USP_KEY_1 1: Last_USP_Key = 1 URE_ LAST_USP_KEY_2 1: Last_USP_Key = 2 Enter an Event Label, letters and numbers only. Underscore (“_”) is allowed. Spaces and other symbols are not allowed. The Event Label must be unique on this GTP-32. “URE_” will automatically be added to your entered label. Enter an event label that easily identifies its use. For example: “LAST_USP_KEY_1” (Last USP Key pressed is #1) Set User Register to “1: Last_USP_Key” Set Operator to “=” Set Value to “1” for USP Key 1 Create one entry of each USP key that is a member of the tally radio group. Event Notification Click on Event Notification Click on ADD USP Event Notification Table USP IP Address Community String Event Type Event Label 192.168.10.123 public User_Register URE_ LAST_USP_KEY_1 192.168.10.123 public User_Register URE_ LAST_USP_KEY_2 192.168.10.123 public User_Register URE_ LAST_USP_KEY_3 Enter the IP address of the USP to send the tally event to Set Community String to “public” Set Event Type to “User_Register” Set Event Label to one of the User Register User Defined Events created above Create one entry of each User Register User Defined Events that will be sent to the USP. Page 5 of 5 USP CONFIGURATION It is assumed that Remote Device Assignment page has been configured with the GTP- 32’s IP address, and the Switch Assignment Page has been configured to send the USP key presses for the members of the tally group to the GTP-32. Tally Assignment Click on Tally Assignment Tally Assignment Switch Tally Mode ON Text OFF Text ON Font OFF Font ON Color OFF Color Source Type Source Remote Device Event Label 1 Standard Remote GTP32- DC20 Name of GTP URE_ LAST_USP_KEY_1 2 Standard Remote GTP32- DC20 Name of GTP URE_ LAST_USP_KEY_2 For each key that is a member of the tally radio group: Set Source Type to “Remote” Set Source to “GTP32-DC20” Set Remote Device to the name of the GTP-32 entered in Remote Device Assignment Set Event Label to the User Register User Defined Event in the GTP-32’s Event Notification Table that will cause this key’s tally to turn ON. For example: Set Event Label to URE_ LAST_USP_KEY_1 for USP Key 31 Set the ON & OFF Text, ON & OFF Font, and ON & OFF color to desired values. SUMMARY When USP Key #1 is pressed, the USP sends a message to the GTP-32. The GTP-32 receives the message and sets User Register “UR_Last_USP_Key” to the value of the USP key number, 1. Then, User Register User Defined Event “URE_ LAST_USP_KEY_1” turns ON. The GTP-32 Event Notification Table sends message to the USP that Event Label “URE_ LAST_USP_KEY_1” is on. The USP receives the message. The received Event Label “URE_ LAST_USP_KEY_1” matches the label assigned to Key #1 on the Tally Assignment Page. USP Key #1 turns on displaying the assigned ON Text in the assigned ON Font with the assigned backlight color. Every subsequent USP key press causes the pressed key to turn ON.","libVersion":"0.3.1","langs":""}