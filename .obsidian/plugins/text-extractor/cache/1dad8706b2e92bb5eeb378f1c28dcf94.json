{"path":"Referenced Material/Reference Library/Vendor/Evertz/Evertz/SDVN Presentation/SDVN Course pptx.pdf","text":"Company Confidential SDVN Course The Flexibility of IP, the Reliability of Baseband Company Confidential  Why SDVN / Where we are  Understanding Networks  Layers / the OSI Model  SMPTE Standards / ASPEN Day 1 Overview Company Confidential  Traditional Broadcast  Linear  Allocated equipment for purposed functions  Evolution Baseband formats • Analog • SD-SDI 270Mb/s • HD-SDI 1.5Gb/s • 3G • 4K • 8K • ?  Is IP delivery new?  So why all the drama? Why now?  Challenges Where We Are Company Confidential Common Fiber Connections Company Confidential  Separates Video, Audio and Metadata into its own Multicast IP  Each can be routed separately.  PCR data is embedded in the Header  Mono audio shuffling is handled on the edge devices ASPEN Adaptive Sample Picture ENcapsulation Company Confidential  Similar to SDN, SDVN allows network administrators to manage the network by abstracting of lower-level functionality  SDVN decouples the system that makes decisions about where traffic is sent (the control plane) from the underlying systems that forward traffic to the selected destination (the data plane).  Evertz designed SDVN for Broadcasters  The concepts are the same, but SDVN is designed with the continuity and reliability that broadcasters need  The orchestration layer is aware of all the devices and links in the network  SDVN looks and operates similar to the baseband world What is SDVN? Company Confidential Weather Channel SDVN System:  Switches/Core Devices • EXE  Edge Devices • 570IPG • 3067VIP  Control • Magnum-SDVN • Magnum-ClientHost Evertz Parts Company Confidential What makes it different:  Traditional network switches were not designed for SDI and other time sensitive switching  I/O not directly on LC like traditional network switch making it more serviceable  Only network switch with Genlock/reference  Can route anything encapsulated in a packet  The EXE Routes an entire multicast stream at a time. • To define unique video signals, define a unique multicast sources, not unique ports.  Routes are evenly distributed to the XC’s, when one fails it will push the routes to the other XC’s EXE Company Confidential  NCS is the main source of control for the EXE, all functionality resides there  EXE 40RU can handle up to 1024 sources per port, bandwidth capabilities limit the total number of sources the unit can handle to a maximum of 64,000 flows  Port to port latency is 1.2 milliseconds within the EXE  The IP addresses of the modules within the unit are fixed and determined by the NCS • If a cards location is moved the IP of the new slot will be pushed onto the card as opposed to the IP being set on the card manually  Added Security: Unless the port is enabled by the system administrator you will not be able to tap into the information and data flowing through the router EXE Company Confidential Redundancy Switch Fabric 10 Fan Trays Line Cards (LC) Fabric Cards (XC) Frame Controllers (FC) EXE Network Control System (NCS) Company Confidential  Network Control System  On boot up the cards get the firmware pushed to them from the FC  Each NCS has a Host and a Guest  The NCS controls all the routing functions of the EXE  Ensure on the Guest page all modules that do not exist in the EXE are set to not present EXE Control - NCS Company Confidential  Special Note:  The NCS to Frame Controller connections require specific SFP types: • On EXE-NCS-A , 10GE ports use MO-10GE-SFP-10KM • On EXE-FC , 10GE ports use SFP10G-TR13-A • On EXE-FC , 1GE ports use SFPTR-RJ45-SER-AV EXE SFP Types Company Confidential  Power Supply status information can be found on the NCS Guest web interface  These are 200-240V AC Power Supplies operate at 50 or 60 Hz  Dual feed architecture where AC feed 1 powers slot 0 and 1 and AC feed 2 powers slot 2 and 3 EXE Power Supply Company Confidential  To view the PSU Interface, connect an Ethernet cable from the Control Network to the front of the PSU unit.  Use a web browser to open the Power Supply Unit (PSU) web interface, login with username Admin and password exeadmin. By default each PSU’s IP is set to 192.168.0.230.  Verify System Voltage is set to 48V  On the Modules page, verify all rectifiers have a similar current value. EXE Power Supply Interface Company Confidential  The power supply comes with an external power switch mounted on a 1RU panel.  There is one switch for the power supplies at the top of the frame and one switch for the supplies at the bottom of the frame.  When the switch is in the Off position all the power modules will be shutdown  Each switch has a mating cable, with four alarm connectors. • The alarm connectors are required for the power tray to current share and therefore must be plugged into the back of each operating power supply tray. EXE Power Switch Company Confidential  The EXE Chassis fans status can be checked on the Chassis page of the web interface  The status and temperature are both monitored for each of the 6 fans EXE Fan Status Company Confidential  The EXE Frame controllers operate as Main and Redundant  FC’s are large Switches as opposed to having the traditional function of a Frame controller  Their status as well as the status of the Reference can be found on the Frame Controller Page of the web UI EXE Frame Controller Company Confidential  The Crosspoint modules can be monitored on the NCS Guest web interface under the Fabric Card page EXE Crosspoint Modules Company Confidential  The LC presence and temperature can be monitored from the Line Card page of the NCS Guest web interface.  The front of the physical LC has tri-coloured LEDs to indicate to the user the status of each port. • To check the status of the CXP ports flip the last DIP switch. EXE Line Cards LED Colour Indication Blue This colour LED indicates that the associated port is up. Red/Blue This colour LED will appear pink and means the associated port is receiving. Blue/Green This colour LED indicates that the associated port is transmitting. Red/Blue/Green This colour LED indicated that the associated port is receiving and transmitting. Red This colour LED indicates that the associated port has either a local or remote fault. No Colour An LED that displays no colour indicates that the port is down. Company Confidential  For each of the physical ports on the rear of the EXE the user can set and view the parameters of each port • Speed • Operation • RX/TX bandwidth • And many more EXE Port Status Company Confidential  Checking the Port Power levels is an important troubleshooting step.  These are the expected power levels for Evertz SFP Ports: EXE Port Status SFP Power Level Expected Values SFP Part Number Minimum TX Power Level Minimum RX Power Level Maximum Power Level SFP10G-TR13-A -8.2 dBm -12 dBm 0.5 dBm SFP10G-TRCxx: -15.8 dBm -14.1 dBm -1 dBm SFP10G-TRCxxH: -24 dBm -7 dBm CXP10GE-12-TR85-AV -9.5 dBm -11.3 dBm 2.4 dBm  NOTE: Copper SFP types will display a -99 dBm power level, this is an expected reading as the power levels are for optical SFP’s only. Company Confidential  For each available multicast source the user can view the • Destination IP Address (multicast) • Ingress Port • Source IP address • Traffic Rate EXE Multicast Sources Company Confidential  This page contains the details on the internal path the multicast will travel  Locate the Multicast IP and you can see the route it is travelling, from the ingress line card, to the cross point and to the egress line card EXE Multicast Routes Company Confidential  All of the Multicasts which are discovered on the ingress ports will appear here and then can be added to the list of multicast sources by selecting Add. EXE Multicast Discovery Company Confidential  Connect NCS to FC using fiber connection  Connect Power Supply’s to frame  Connect LC ports to edge devices  Power on Frame  Ensure the Controller returns Online, if it is Offline the EXE won’t allow incoming connections • Magnum will not connect if the controller is offline. Setting Up the EXE Company Confidential  Login to the EXE Host web interface  Scroll down to the bottom of the page and select upgrade  Browse for the desired firmware to upgrade to  Select Upgrade to begin the upgrade process Upgrading the EXE Host Company Confidential EXE Guest Upgrade Company Confidential  Navigate to the Guest page  Select the Stop button to stop the currently running guest  Under Image Settings browse for the desired firmware to upgrade the guest to  Select Create  Load the new Image and select Start  The NCS will report App online when the upgrade is complete  For systems with redundancy ensure that on the Guest interface it reports Peer Controller Online Upgrading the EXE Guest Company Confidential EXE Guest Upgrade Company Confidential  3rd generation low latency, ultra high density gateway of SDI over 10GE Ethernet.  direct conversion of up to 18 SD/HD/3G signals to IP using one of several configurable formats to deliver unparalleled processing densities.  it also supports up to 2 audio TDM ports for carrying discrete audio over IP in addition to the primary video; TDM ports provide TDM audio outputs, 16 channels per video input  integrated frame sync and retiming on the SDI output stage.  SMPTE2022 series, ASPEN and Evertz-TS encapsulation and formatting methodologies.  also provides per input AVM monitoring, auto timing, time stamped Ethernet outputs.  incorporates patent pending multipath, multi-flow packet merge base network bit error resilience for 100% QoS.  570IPG-3G18-SFPP12 can be managed as well as SNMP management via Frame Controller. 570IPG Company Confidential  There are 5 license options for the 570IPG which are: 570IPG Feature Keys OPTION Description +XLINK XLINK rear plate 570IPG-FK-LANSFP-2 Feature Key to unlock 2 LAN access ports (Replaces 10GE SFP pain, max 6 LAN pairs per card, SFPs are separate) 570IPG-FK-4x2 4x2 Clean Switch 570IPG-FK-ADMX Enables independent video, audio and VANC IP flow generation and handling on board audio shuffling 570IPG-FK-AUD-TDM Enables audio TDM outputs on the 570IPG-3G18 Company Confidential  There are multiple apps available within the firmware: 570IPG Firmware Apps APP # Standard(s) INxOUT (SDI) SFPs Additional A EvertzTS/SMPTE2022 18x18 1-12 Embedded Audio, TDM B ASPEN 18x9/3X18/6x12 1-6, 11 8 Audio Streams, No TDM F ASPEN 13x15 1-6 4 Audio Streams, No TDM G ASPEN 0x18 1-12 4 Audio Streams, No TDM H ASPEN 3x18/18x12 1-6 4 Audio Streams, TDM I ASPEN 3x18/18x12 1,3,5,7,9,11 4 Audio Streams, TDM Company Confidential  On the IP side, there are main and backup SFP connections  Both the SDI Loopback and IP loopback IPG Configuration Company Confidential  Configure the Frame Control IP settings in the serial menu and reboot to load the configurations  Login to the Frame Controller via a web browser to see the status of the modules.  From the FC Web Interface ensure each 570IPG module has Proxy configured  Upgrade if the module isn’t running the desired firmware. Setting Up the 570IPG Company Confidential The 570IPG must use Proxy mode  Login to the Frame Controller web interface  Select Software and navigate to the bottom of the page  For each module in the Frame select enable Proxy mode in that slot and set the IP address details.  Select Apply and ensure the module appears in the frame page Configuring 570IPG for Proxy Mode Company Confidential  There are a few key features on the system page beyond just basic configuration and monitoring of the ports  There is the Standard Control panel where we can select the Standard to use; either Evertz TS, SMPTE 2022 or ASPEN  There is also the Inband Control panel where we can configure and check the IBC port settings 570IPG System Configuration Company Confidential  The Crosspoint view routes a source towards a destination through a cell cross-point selection.  There are 3 route tables available: • The 1st table is used for IP to SDI routes as well as SDI loopout • The 2nd table is for Bi- Directional modules • The 3rd table is for SDI to IP routes 570IPG Route Control Company Confidential Controls – Route Control 38 Grid Elements This indicates whether the SDI port is configured as an input or an output. This symbol indicates that you are Transmitting the SDI signal referenced on the top axis out the referenced SFP on the left axis as IP. This symbol indicates that you are Receiving the IP signal on the SFP referenced on the left axis and passing it out the port referenced on the top axis as SDI. Company Confidential Controls – ASPEN Route Control 39 ASPEN Stream Select When a crosspoint location is selected in ASPEN the following window will open: In this window you must select which pieces of data will be travelling on that port. The options include: • All (Video, 8 Audio groups and ANC) • None (no data, removes all checkmarks) • Selecting specific pieces of data by placing a checkmark in the box next to it. Select OK when all the changes are made. Company Confidential  This page displays each SDI input on the rear plate for 18 of the 20 DIN connections and allows the user to both control that status of each as well as monitor the status of the video. 570IPG SDI Input Company Confidential  PID configuration is important for audio shuffling on the 570IPG modules.  The PID Configuration for ASPEN Audio Shuffling appears as: 570IPG Program Control  PCR Control configurations also reside on this page Company Confidential  This page displays each IP output on the front plate for 18 of the 20 Ethernet connections  Allows the user to monitor the status of the video.  The IP Output Control section will allow you to configure the Source IP, Source port, Destination Address (multicast IP) and Destination port for each SFP per SDI port.  NOTE: Ensure that the IP Output Source UDP Port value and IP Output Destination UDP Port value have been set. Controls – IP Output 42Company Confidential  IP Output Advanced control This section will allow you to configure the VLAN ID (IP Output Type Of Service), TTL for the multicast packets* and enable or disable RTP (Real- time Transport Protocol). Controls – IP Output 43 *NOTE: The EXE- VSR does not decrement the TTL and therefore this setting is only required when interfacing with third party switch fabrics. Company Confidential  IP Output Monitoring This section will allow you to monitor which SFP the stream is active on as well as the bit rate of the stream on that output. Controls – IP Output 44Company Confidential  This page displays each IP input on the front plate for 18 of the 20 Ethernet connections that are not being used for output and allows the user to both control that status of each as well as monitor the status of the video. IP Input Control will indicate what multicast an SDI input is tuned to. Controls – IP Input 45Company Confidential  The preset IP portion will allow Magnum to preset a multicast IP on the 570IPG input. This is required for VBI switching. Controls – IP Input 46Company Confidential  IP Input IGMP Control This section will allow the user to configure IGMP V3 settings on the receive side of the 570IPG. This configuration would only be required when interacting with third party switch fabrics. Controls – IP Input 47Company Confidential  This page displays each SDI output on the rear plate for 18 of the 20 DIN connections  For the DINs being used for output the following parameters can be set and monitored: • Monitor the status of each video. • Set the SDI output mode • Set the Horizontal Offset • Set the Vertical Offset Controls – SDI Output 48Company Confidential  This page contains configuration and monitoring parameters for the Audio outputs when using the EQX-IPG in ASPEN.  For each of the 4 audio output groups the following parameters are displayed on the SFP port associated to the SDI number being viewed: ASPEN Controls – Audio IP Output • IP Input Status o if the port is enabled to send audio for that SDI • IP Input IP Address o address of the egress audio stream • UDP Port Company Confidential  This page contains configuration and monitoring parameters for the Audio inputs when using the EQX-IPG in ASPEN.  For each of the 4 audio input groups the following parameters are displayed on the SFP port associated to the SDI number being viewed: • IP Input Status o if the port is enabled to receive audio for that SDI • IP Input IP Address o address of the incoming audio stream • UDP Port • IP Input Present o if IP Audio is present on the port ASPEN Controls – Audio IP Input Company Confidential  This page contains configuration and monitoring parameters for the VANC data output when using the EQX-IPG in ASPEN.  For each of the SDIs the following parameters are displayed on the associated output SFP: ASPEN Controls – VANC IP Output • IP Output Status o if the port is enabled to send VANC data for that SDI • Destination IP Address o address of the egress VANC data stream • UDP Port Company Confidential  This page contains configuration and monitoring parameters for the VANC data input when using the EQX-IPG in ASPEN.  For each of the SDI inputs the following parameters are displayed on the associated SFP: • IP Input Status o if the port is enabled to receive VANC data for that SDI • IP Input IP Address o address of the incoming VANC data stream • UDP Port • IP Input Present o if IP VANC data is present on the port ASPEN Controls – VANC IP Input Company Confidential  The Video Notify page allows the user to configure the monitoring of video failures.  Trap values can also be configured here, when the values are exceeded on the counter for the stream the Video Fault will be triggered. Video Trap Control Company Confidential  The Audio Notify page allows the user to monitor audio pair failures for all pairs on each SDI.  When an audio pair is lost the Audio Fault will be triggered. Audio Trap Controls Company Confidential  The System Notify page allows the user to configure which traps will be monitored for the different components of the 570IPG modules. Including: • Reference Loss • SFP Presence/Bandwidth Limit • Encapsulator Faults • Decapsulator Faults System Notify Controls Company Confidential  When setting the SNMP trap on the 570IPG use the main frame controller page  Enter the IP of each VM, not the Cluster IP.  Select Apply when the address has been entered. SNMP Trap Controls Company Confidential  This page displays each IP output on the front plate for 18 of the 20 Ethernet connections and allows the user to both control that status of each as well as monitor the status of the video. The IP Output Control section will allow you to configure the Source IP, Source port, Destination Address (multicast IP) and Destination port for each SFP per SDI port. Controls – IP Output 57Company Confidential • Modular • 2 Slot • Fits into EMX6-FR or EMX3-FR • Hot swappable • 32 SFP Cage • Up to 24 10G ports • Up to 4 SDI output • Dual control network support via EMX-FC • Supports Uncompressed over 10G 3067VIP10G-3G-HW 58Company Confidential 3067VIP-10G Rear Plate Mapping Data Ports Input/Output Streams Physical Ports RX SDI Video Streams TX SDI Display Streams TX J2K Display Streams Main Backup HD 3G Main Backup Main Backup 1A 1B 1-6 1-3 1,2 1,2 1,2 1,2 2A 2B 4-6 3A 3B 7-12 7-9 3,4 3,4 3,4 3,4 4A 4B 10-12 5A 5B 13-18 13-15 6A 6B 16-18 7A 7B Unused Unused Unused Unused Unused Unused 8A 8B 1 2 9A 9B 19-24 19-21 10A 10B 22-24 11A 11B 25-30 25-27 12A 12B 28-30 13A 13B 31-36 31-33 14A 14B 34-36 15A 15B Unused Unused Unused Unused Unused Unused 16A 16B 3 4 Company Confidential  Connect to the serial port of the 3067VIP and log into the serial menu  Configure the desired network settings  Reboot the card  Enter the IP address of the card into a web browser and login to the web interface  Upgrade the card to the desired firmware. Setting up the VIPs Company Confidential  Key Features: • Monitor the state of the SFP ports • To configure the Control Ports • Add Product Features • Configure SNMP Traps • Configure NTP Time Management Essential Controls - System Monitoring 61Company Confidential  The Input Control panel allows the user to configure the multicast address the input will arrive on for each of the 36 inputs Essential Controls - Input Control 62  The Output Control panel allows the user to configure the multicast of each of the 4 mosaic outputs Company Confidential  The Output Control page allows the user to set the output parameters of each mosaic  Key Features: • Output Resolution • Layout • Output Rotations • Standard Selection • Destination Control Essential Controls – Output Control 63Company Confidential  The Video Notify page allows the user to configure the monitoring of video failures.  Trap values can also be configured here, when the values are exceeded on the counter for the stream the Video Fault will be triggered.  The Copy Input 1 Settings button allows the user to configure the fault settings for the first input and push these to all the other inputs. Fault Controls – Video Notify Company Confidential  The Audio Notify page allows the user to configure the values for monitoring errors on the audio channels for each input.  When any of these audio monitoring values are exceeded the associated Audio Fault will be triggered. Fault Controls – Audio Notify Company Confidential  The Advanced Notify Control allows the user to set the maximum/minimum values for controls that will trigger fault alarms.  Picture Level Control can set max and min levels for Active Picture and Percent Picture that appears for each input, when these levels are not met or exceeded a Picture Level fault will trigger.  CC Control can set the value in seconds of CC loss for each input before a Fault is triggered or cleared. Fault Controls – Advanced Notify Control Company Confidential  TXT Control can set value in seconds of TXT loss for each input before a Fault is triggered or cleared.  Nielsen Control can set the acceptable value in seconds of the loss of Nielsen data for each input after which a Fault will be triggered. Fault Controls – Advanced Notify Control cont.  EIA 708 Control can set the value in seconds of EIA 708 service errors for each service on the inputs before a Fault is triggered or cleared. Company Confidential  ANC Control can set the value in seconds of ancillary data errors for each input before a Fault is triggered or cleared. Including: • Teletext Duration • SMPTE AFD Loss • Video Index Loss • CC Waveform Loss • Program Rating Loss • SID Data Loss • VITC Data Loss • VITC Waveform Loss • WSS Loss • XDS Loss Fault Controls – Advanced Notify Control cont. Company Confidential Fault Controls – Advanced Notify Control cont.  Video Control can set the value in seconds of Video errors for each input before a Fault is triggered or cleared.  GPI Control can set the value in seconds of after which the SCTE 104 GPI Index will be reset. Company Confidential  The Advanced Notify page will display fault statuses for each input based on the Advanced Notify Control values set on the previous page. Fault Controls – Advanced Notify Company Confidential  The Advanced Audio Control page allows the user to configure values for Non-PCM Audio which will trigger Audio Faults. Fault Controls – Advanced Audio Control  The Advanced Audio Notify panels on this page will display to the user the faults status based on the values set for Non- PCM Audio in the control panels on this page. Company Confidential  The Advanced Audio Control page allows the user to configure values for Audio Loudness which will trigger Audio Faults. Fault Controls – Advanced Audio Control  The Advanced Audio Notify panels on this page will display to the user the faults status based on the values set for Audio Loudness in the control panels on this page. Company Confidential  On each device web interface (except the EXE Host page) there is a button in the bottom right corner after logging in labeled Users  This button allow for the following changes: • Changing the password associated to a login • Changing the permissions associated to a login • Adding new users • Setting Read Only, Write Only or Administrative permissions to a user Essential Controls on All Devices Changing User Permissions 73Company Confidential  This section will be composed of 4 parts • CentOS Interface • Configuration Shell • SDVN GUI • Apps within SDVN GUI Configuration and Control: Magnum-SDVN Company Confidential  Navigate through the CentOS • Login to the IPMI through a web browser • Important Applications in the IPMI • Terminal • Virtual Machine manager  Start and Stop virtual machines • VM’s are configured to auto-start on boot • Can be stopped and started when required from Virtual machine manager • Right click on the VM and select Stop to stop the VM and Run to start the VM. Magnum-HW Company Confidential  Begin by connecting the following: • Power Cables • Cat5E cables to all Ethernet ports • SFP’s and fiber to Ethernet 6 and Ethernet 7 • Cat5E to the IPMI port  Magnum-HW can have a max of 3 separate control networks. Physical Connections on Magnum-HW Dual Redundant Power Connections IPMI Port Ethernet Port 0/1 Ethernet Port 6/7 Ethernet Port 2/3 Ethernet Port 4/5 Company Confidential  To login to the MAGNUM Server Configuration Shell, the user will have to enter the following information when prompted. These are the default credentials: • Enter admin as the username and then press <enter> • Enter admin as the password and then press <enter>  You will use the arrow keys, tab, and enter keys to navigate through the MAGNUM Server Configuration Shell. Configuration Shell Company Confidential  The Network Configuration menu enables the user to set the network details for multiple network adapters  Standard configurations have 5 network adapters.  The first 3 networks adapters are the 1G control network • Set the network details for each and select OK  Save and Apply the changes when finished.  NOTE: DHCP is not recommended, configure each network adapter. Network Interfaces Company Confidential  Eth3 and Eth4 are associated to the 2 10G ports in standard configurations  Configure the network adapters for these as desired to match the In band Control parameters  Save and Apply the changes when finished. Network Interfaces – In Band Control Company Confidential  The Cluster Configuration menu will enable the user to define the cluster information for MAGNUM-SDVN. These settings will need to match on each server within the cluster.  The cluster IP address is the IP address assigned to the Active MAGNUM Server so that all clients have a single address to communicate to regardless of which MAGNUM Server is Active.  The Database IP is the address used to access the WEB Configuration Tool as well as any advanced panels for MAGNUM-SERVER connectivity. (A maximum of 3 can be set, one for each control network) *NOTE: Ensure the Magnum VM Host name has been changed before editing the Cluster IP addresses. Cluster Configuration in SDVN Company Confidential  The Cluster Configuration menu will enable the user to define the cluster information for MAGNUM-ClientHost. These settings will need to match on each server within the cluster.  This is the IP address you will used to access the WEB Configuration Tool as well as any advanced panels for MAGNUM-SERVER connectivity.  Magnum-ClientHost cannot load the web interface without the Cluster being configured.  Ensure the Magnum VM Host name has been changed before editing the Cluster IP addresses. Cluster Configuration in ClientHost Company Confidential  To assign the Multicast Address 1 for the MAGNUM system select the option from the Cluster Configuration menu. The user will be prompted to enter the desired address into the “Multicast Address” field and then select the OK button.  To assign the Database Address for the MAGNUM system select the option from the Cluster Configuration menu.  The user will be prompted to enter the desired address into the “IP Address” field and then select the OK button. Multicast / Database IP Address Company Confidential  Open the Magnum Configuration Shell (this process works for both SDVN and ClientHost)  Select System Configuration  Select Upgrade Server Software  Enter the password for magnum  Choose the software to upgrade with and select OK.  Reboot the VM for the changes to take effect.  Ensure that for SDVN the SDVN .efp is loaded first. *NOTE: This method assumes that the upgrade files have been transferred to the admin folder. Upgrading Magnum-SDVN Company Confidential  WinSCP the .efp files into the appropriate Virtual Machine using the IP associated to it and logging in etservice/magnumhdtv  SSH into the VM and follow the below instructions for either ClientHost or SDVN: • When upgrading ClientHost run the below commands: • sudo sh “name of .efp file” • sudo reboot • When upgrading SDVN follow the instructions below: • efpinstall “name of sdvn .efp file” • Sudo reboot • When this is done, log back in and efpinstall all the remaining .efp files (if there are multiple) • Then reboot the VM once more Upgrading Magnum-AV Alternate Method Company Confidential  Enter the Cluster IP or the IP address of the Magnum-SDVN VM.  This will take you to the web interface  Login admin/admin.  Configure the dashboard to appear as desired. Magnum-SDVN Interface Company Confidential  Place the canvas into Edit mode and select the Add button.  Name the new dashboard  Select the list icon to open a list of available apps  Place the desired apps onto the canvas and size them as desired.  Exit edit mode when this is complete. Creating a New Dashboard Company Confidential  The Magnum-SDVN Help Feature is a powerful tool which can be found by selecting the button, followed by Help.  This will provide information about how to work with SDVN Magnum-SDVN Help Feature Company Confidential  The Magnum-SDVN Search feature allows the user to search Magnum-SDVN using any value in the system by selecting and entering the details in the search bar. Magnum-SDVN Search Feature Company Confidential  The Device and Links app allows the user to view an overview of all the available links and hardware.  All displayed links are Ethernet. Paths – Topology View Company Confidential  At a quick glance the following things are distinguishable on the topology: • Control Status of the Devices – indicated by the green icons on them • Control Status can represent either Inband Control OR Out of Band Control • Link Status – a link that’s down is indicated by a solid flashing red link • Link Utilization – indicated by the heat gradient on the links Information Available on the Topology View Company Confidential  On the Devices tab all of the devices that have been added to the system will be displayed along with the following information: • Status • Device Name • IP Address and Port number About the Devices App Company Confidential  Selecting the ellipses at the end of the device row will allow the user to view the following: • Device General Settings • This includes IP addresses, Inband Control configuration and enabling/disabling the connections • Current Sources • This will display the current sources routed on a device • Stream Encapsulation Settings • This will display the source multicast addresses or allow for them to be configured. Device Features Company Confidential  The Current Sources feature can be accessed a number of ways: • Selecting the Device on the topology view • Selecting the Current Sources option on the Devices page • Select the on the Links page  By selecting the icon the entire path this source takes will be illuminated on the topology page Current Sources Company Confidential  This app defines how the IP addresses are used  At the bottom left hand corner of the Devices and LINKS window the user will find this icon,  Selecting this icon provide the user the ability to assign Encapsulation IP Addresses to devices ports  From here the devices providing content are visible, this list will update as devices are added and deleted. Encapsulation IPs Company Confidential  In the Devices and Links app, select the Encapsulation IP Addresses icon in the bottom left corner  In this app the user can set multicast addresses to use for each transmitting edge device in the system  Search for the device and enter multicast address in the Destination IP column and enter the Destination port number  For devices which transmit audio, VANC and video separately the user can set multicast addresses for each individually Setting the Multicast Addresses Company Confidential  To Navigate to a Device Web Interface select the ellipsis (…) in the last column on the Devices app. Then choose Device Web Page.  This allows the user to easily access the web pages of all devices from one central location.  When the web page opens in the window, select the Export to New Tab button and the page will be open in a tab in the web browser. Additional Tools Company Confidential  To add a new device, click on the Add Device button and an Add Device dialog box will appear  To add a new device, select the device from the drop down menu this will cause additional information to appear  Enter a unique name and IP address of the device into the fields provided.  Once the information is entered, select the ADD button to add the device to the Device List. If you have finished adding devices, click the CANCEL button to exit and return to the main device page. Adding Hardware  Each device has unique parameters that are required for Magnum- SDVN control, the following steps outline the requirements which are similar to all devices: Company Confidential  On the Links tab all of the links that have been added from the edge devices to the core will be displayed in appropriate groups along with the following information: • Link Connectivity Status • Start Port and End Port names • Received Bandwidths on each port • RX bandwidths are an generated based on the maximum bandwidth allocation of each source About the Links App Company Confidential  Click on the DEVICES AND LINKS Application. Select the LINKs Tab  The LINK screen enables the user to add, delete, modify or view the properties of the links connecting devices.  To add a new link, click on the Add Link button and an Add Link dialog box will appear  To add a new link, enter a unique name and define the start and end ports from the drop down menus. Once the information is entered, select the ADD button to add the link to the Link List. If you have finished adding links, click the Cancel button to exit and return to the main links page. Adding Links Company Confidential  Use the … at the end of the group which will utilize redundancy  Select the Link that will be used for redundancy. Setting Up N+1 Redundancy  When a link fails over Magnum-SDVN will display which link failed over to the other  To repair the Failover select Repair Company Confidential  Filters – these are available on most apps and allow the user to filter down for what they’re looking for quickly.  Opening an App in a new tab – by selecting the icon, the app will open in a new tab.  Using the Watched tags – allows you to filter the list of devices based on devices that are being watched.  Search – on the main page of Magnum-SDVN web, the user can use the search bar to find devices, ports, addresses, etc. in the system. Helpful Features Company Confidential  The Ports app allows for the naming of ports as well as aliasing through namesets. This app also allows for Engineering level routing through the system.  In the Sources tab the user can see the available ports on each device as well as the type of port.  The Ports which have no names are Pass-through Ports  Current Source in the Destinations tab allows the ability to see what’s on a source. • Click on this to show available Sources Ports Company Confidential  Open the Ports app  Select Destinations  For each Destination in the Port column assign the desired Source in the Current Source column NOTE: Audio Breakaway Routes will be handled by Magnum-ClientHost Routing Company Confidential  Add a name set by select Name Sets and entering the desired name. Select Add when you’re finished.  Setting a name for your devices to use within the name set you created.  Either select Sources or Destinations based on whether your device is a source or a destination to/from the EXE.  In the column labeled with the desired name set, add the name to use for that device Setting Names & Adding Name Sets Company Confidential  To clear a route, go to the Destination page of the Ports app • Find the desired device and select the Source cell • Select Clear • Once you have done this you can route a new source  To Define bandwidth, select the bandwidth column of the desired device and enter the bandwidth required. Clearing Routes & Defining Bandwidth Company Confidential  The EXE and IPX app is a low level tool which presents to the user the configured active inputs and outputs of the Evertz switch fabric devices.  All the Sources and Destinations through the EXE/IPX are visible upon opening this app.  In this app it is easy to find the mulitcast addresses of sources and destinations  Use the Encapsulation app to find out which devices is associated with each address and then jump to the Ports app to give the Sources/Destinations names. EXE/IPX Company Confidential  Open the Devices app • Check the status of the edge device connections to the core, will be a green icon next to enabled connections  Open the Ports app • Check the sources and destinations and ensure they are accurate  Open the Links app • Check the links between devices to see where there is a link failure/issue Monitoring through Magnum Company Confidential  The User Management app allows the user with the ability to add new users, delete users and change user passwords. • Once a new user has been added log in using the newly created credentials • Each user can have a custom designed Dashboard for their login. User Management App Company Confidential  The SNMP Control app allows the user the ability to set the configuration and monitoring functions of SNMP enabled devices. SNMP Control Company Confidential  Select the device from the list of available devices  Open the desired Controls  Drag and drop the desired controls onto the canvas Configuring SNMP Controls Company Confidential  The Multiviewers app manages the multiviewer displays. This application allows for configuration and layout design of the VIP10G mutliviewers controlled by MAGNUM.  Using this application users can set the multiviewer properties such as resolution, refresh rate and orientation, as well as design, save and recall layouts. Multiviewers Company Confidential Mosaic Design Tool Company Confidential Multiviewer Rotation Tool •To rotate the Multiviewer output canvas you need to put the Canvas into Live Edit mode •Select the desired output •Change the rotation from None to 90 Degrees Company Confidential  When a multiviewer display is selected, the user will be able to see the current layout on the selected multiviewer display and or begin editing/creating a new layout.  To edit / create the multiviewer layout the Select Live Edits to be On, when set to ON this will expose a tool bar across the bottom of the Multiviewer’s window.  This tool bar allows the user to add design elements / widgets to the multiviewer display. Setting the Multiviewer Outputs Company Confidential  This Properties tab is associated with both the 4:3 window and the 16:9 window. Allowing the user to set the following parameters for the Video widget that has been selected  Border Color  Border Width  Background Color  VGPI Triggers  This Properties tab is associated with the Label, allowing the user set the following parameters for the Label widget that has been selected  Border Color  Border Width  Background Color  Text Color  Label Text Multiviewer Properties Tabs Company Confidential  This Properties tab is associated with the UMD widget. It allows the user to set the following parameters for the UMD widget that has been selected  Border Color  Border Width  Background Color  Text Color  UMD Protocol Mode  This Properties tab is associated with the Level Bar widget. It allows the user configure the number of audio channels the selected Level Bar widget will display and the mapping of those channels Multiviewer Properties Tabs cont. Company Confidential  This Properties tab is associated with the Digital Clock. It allows the user to set the parameters for the Digital Clock widget selected  Border Color  Border Width  Background Color  Text Color  Time Source  This Properties tab is associated with the Analog Clock. It allows the user to set the parameters for the Analog Clock widget selected Multiviewer Properties Tabs cont. Company Confidential  The Sources tab displays each of the available Video Sources.  These can be added to each widget to be displayed.  The Filter Sources field allows the user to search for the desired source. Multiviewer Sources Tab Company Confidential  The Layouts tab displays the available layouts to be previewed for each Multiviewer.  The user can drag and drop the desired layout to the canvas to view it.  The Filter Layouts field allows the user to search for the desired layout to add or view. Multiviewer Layouts Tab Company Confidential  The Themes tab allows the user to select the desired theme to load to the widget.  The user can drag and drop the theme from the tab to the desired widget to be added.  The Filter Themes field allows the user to search for the desired theme to add or view. Multiviewer Themes Tab Company Confidential  This app is the Quartz Interface to ClientHost allowing SDVN and ClientHost to communicate.  This app can also add additional interfaces to 3rd party devices  To add an Interface: • Select Add Interface • Set the desired interface name • Set the Listen Port the interfaces will communicate on • Choose the name set to add to the interface • Open the interface and add the sources/destinations to be utilized Interface App Company Confidential  In the Configuration Management app there are scheduled backup’s Magnum SDVN creates of itself so the user can roll back at any time  Locate the Backup that should be loaded either through searching by Timestamp or by the name of the Backup  Select the Load icon next to the desired backup  The Export Current Config button will export an editable CSV file  The Import Config button will allow the user to easily import a CSV file Configuration Management Company Confidential  Export the Core Devices and Edge Devices tab to a .csv file  WinSCP the core_device.csv and the edge_device.csv into the etservice folder of Magnum SDVN  SSH into Magnum SDVN and login using the credentials etservice/magnumhdtv  Run the following command • /opt/magnum-utilities/bin/import_sdvn_config_csv  To export the current config run the following command: • /opt/magnum-utilities/bin/export_sdvn_config_csv Configuration Spreadsheet Alternative Import/Export Method Company Confidential  The configuration spreadsheet is divided into 2 tabs • Core Devices • EXE • IPX • Edge Devices • All other devices Configuration Spreadsheet Company Confidential  To run the In band Control script login to etservice  Enter the following command:  If the script was successful all the devices using In band Control should become connected. In Band Control Setup Company Confidential  When the route appears in the Ports app but not on the display confirm where the route is going to  Using the EXE/IPX App to confirm routes • Open the EXE/IPX app and select the device you are debugging from the Device drop down menu • Select Refresh Data • On the Sources side either enter the port number your multicast is coming in on or enter all or part of the multicast address in the Filter bar • On the Destinations side either enter the port number your multicast is egressing on or enter all or part of the multicast address in the Filter bar • If information appears, ensure it is accurate to the system configuration Magnum Troubleshooting Company Confidential  In the Ports app, if the route is clear and you get an Insufficient Bandwidth error with routing, check for Orphaned routes.  Using the EXE/IPX App to check for Orphaned Routes • Open the EXE/IPX app and select the device you are debugging from the Device drop down menu • Select Refresh Data • On the Destinations side either enter the port number your multicast is egressing on or enter all or part of the multicast address in the Filter bar • If information appears remove the route from the EXE to free the bandwidth on that port Magnum Troubleshooting Company Confidential  Log into Magnum Terminal  Type in the following command: • tail -f /var/log/magdrvsrv.log  The .log file can be changed to view the log for any of the services within Magnum-AV.  Some of the common options include: • Magrtrsrv – Router Service • Magdrvsrv – Driver Service • Magibcsrv – In Band Control Service Checking Magnum Log Files Company Confidential  Log into Magnum Terminal  Type in the following command: • tcpdump –i any –T rpc host 192.168.1.1  The tcpdump can be changed to view and address returning packets on any port.  This command will show information about routes being made, torn down or show if the route is not being made at all Checking Magnum TCPDump Company Confidential  When Logging in to Magnum-CH use the Cluster IP address in the web browser bar • 192.168.80.253/magnum  If the “/magnum” portion is forgotten the web interface will not launch  Login credentials for Magnum-ClientHost are also username: admin password: admin but we can add additional logins. Magnum-ClientHost Company Confidential  Configure the Home page: • Devices: This widget provides an overview of the current connection states of all devices managed by Magnum-CH • Satellites: This widget allows the user a heads-up view of the current connection state of any 3rd party Router/Control System that Magnum Router Control may be interfacing with • Routes: This widget allows the user the ability to see all the routes being made in the system. • Panels: This widget provides an overview of the current connection state of the panels that are being managed by the Magnum Router Control System Working With Magnum ClientHost Company Confidential  The main features of ClientHost are: • Servers: The user can add the Magnum ClientHost servers using this app • Devices: Users can use this app to add 3rd party devices to magnum • Tielines: This adds devices to a pool that can be utilized by downstream devices depending on availability (this is important for UMD’s on the VIP outputs) • Salvos: The salvos allow for easy routing of devices, they are set source to destination routes • Advanced Routes: Advanced routes allows the user to perform break- away audio routing for each destination • Interfaces: Control panels can be added and configured in the interfaces app as either a Single Profile or Multi Profile panel based on the type of panel being configured. Working With Magnum ClientHost Company Confidential  Add your Magnum Server(s) in ClientHost • Select Server • Select Add • Give the Server a name • Set the IP address associated with the ClientHost VM that you created • Select Done • Upload Changes when they are complete. Adding Magnum Servers in ClientHost Company Confidential  To fully utilize Magnum-SDVN with Magnum ClientHost you need to add your Magnum SDVN as a routing device • Login to ClientHost • Select System->Devices • Select Add Device • Under Device Type select Magnum • Enter the device Name: Magnum Add Magnum-SDVN Device Company Confidential  Once you have added your Magnum device you will need to edit the properties to import the name service to ClientHost • Select System  Devices • locate your Magnum device • Select the Edit icon next to the Magnum device • When the Properties window opens select the Advanced panel • Ensure the Name Source has the Yes radio button selected • Select Apply followed by Done. Edit Magnum-SDVN Device to Import Name Service Company Confidential  Navigate to the Home page in Magnum-ClientHost  In the Satellites app, the Magnum-SDVN device will flash yellow if there are any name updates pending.  Select the Magnum-SDVN device in Satellites  Place a check mark in the box next to the accepted changes and select Done. Syncing Magnum-SDVN Names with Magnum-ClientHost Company Confidential  To add a 3rd party device or an unsupported device to Magnum it must be added to ClientHost • Login to ClientHost • Select System->Devices • Select Add Device • Under Device Type select 3rd-PARTY-ROUTER • Enter the device Name • Enter the number of Inputs and Outputs • Enter the Primary IP Address and Port number – (IP Address: Port Number) Adding 3rd Party Devices Company Confidential  Permanently limiting the scope of some destinations, will help to avoid the possibility of incorrect sources getting routed to destinations  To configure Source Availability from the System dropdown menu: • Select the router from Devices that contains the destination(s) desired • This will populate the sources and destinations • Select the destinations with a check in the box next to it • Select the Sources with a check in the box next to it Configuring Source Availability Company Confidential  Mirrored Destinations will allow for destinations to be grouped so that is a source is routed to one destination all mirrors will get that source. • Select System > Mirrored Destinations • Add New Mirror • Select the device to add mirrored destinations to • Place a checkmark in box new to desired destinations and then select Add to Group. Setting Mirrored Destinations Company Confidential  Port Labels allow the user to add source and destination labels to ports which can be utilized by advanced filters on multi-profile panels.  To add Port Labels: • Select System > Port Labels • Locate the desired device and add a label for it under the Labels column. Adding Source/Destination Labels Company Confidential  Virtual Ports facilitates level routing, by creating virtual sources which line up to matching levels on virtual destinations. • Select System > Virtual Ports • For either Sources or Destinations select Add Virtual Port • Enter a name for the port • Add sources to the virtual port • Ensure all changes are uploaded. Adding Virtual Ports Company Confidential  Names provides the ability to view the Quartz Index numbers as they relate to the different Name Sets.  New Name Sets can also be added on this page: • Select Add Name Set and give the name set a name • Assign names to the new name set for each source and destination as desired. • These name sets will be used within ClientHost only, they will not translate to Magnum-SDVN unless configured to. Working with Names Company Confidential  On the Interfaces page, the user has the ability to add and configure control panels, both single and multi-profile versions. • Once Interface is opened, select either the multi-profile or single-profile tab • Select Add and locate the model of the control panel • Set the Name and control IP address of the panel • Select the Open Panel Page icon and add Profiles to the panel • Select the Edit icon next to the newly added Interface to edit it Adding Control Panels Company Confidential  On the Edit page configure the following • Set the desired Sources to be Available by selecting the source (use the Name Set drop down to filter the sources/names visible) • Set the desired Destinations to be Available by selecting the destination (use the Name Set drop down to filter the destinations/names visible) • Use the Search Labels to make sources and destinations available to the desired profile using the labels defined in the Ports Label menu. NOTE: Search Labels will override selections made in the Category tab. • To change the Profile on the panel follow the instructions in the panel User Manual. Editing Multi-Profile Control Panels Company Confidential  Once in Edit mode: • Assign the Sources/Destinations to be available from the tabs by clicking on the associated cell. • Use the Key Settings to assign a specific source/destination to a particular control panel key: • Highlight a Key on the control panel image • Go to Key Settings and select the type of button • Select the Data to associate to the button (i.e. Source/Destination) • Set the Attachment so the button knows how to respond to Primary or Secondary menu navigation. Editing Single-Profile Control Panels Company Confidential  In the Quartz Interface the MVP Profile is automatically created and maintained by Magnum  This interface will point to the Magnum-SDVN device that was added previously. • Open the interface to Edit • Filter for the Magnum-SDVN device on sources • Make all the sources available • Repeat for the destinations  This process will allow for UMD naming to sync Quartz Interfaces Company Confidential  There are 2 types of Tielines: • Normal: added to a pool that can be utilized by any downstream device. • Reserved: creates a group that is not part of the general pool of sources.  To create a tieline within your system: • Select the Tielines option from the System drop down menu • Select the Add button • Then select either Single or Block • Set the Upstream (From) • Set the downstream (To) • Select the Add button when finished and Upload the changes Creating Tielines Company Confidential  To access the Salvos Builder: • Navigate to the Control menu and select Salvos • Select New • Place a checkmark in the box(es) next to the Physical destination • Then select Route Tools • Enter the Start source for the route • Enter the End source for the route • Select Apply followed by Done • Save the Salvo when this is completed. Creating Salvos’ in ClientHost","libVersion":"0.3.1","langs":""}