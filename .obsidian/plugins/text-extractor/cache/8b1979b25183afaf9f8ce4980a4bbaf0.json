{"path":"PDF Library/Vendor/Neutrik/opticamSWITCH_Ethernet_Interface_v3.1.pdf","text":"page 1/14 | Frank S. Title: opticamSWITCH – Ethernet Interface Author: F. Studer Date: 29.06.2015 Version V 3.1 1. FIRMWARE UPDATE 2 1.1 DETERMINE MAC & IP ADDRESS 2 1.2 IP ADDRESS CONFIGURATION OF THE HOST COMPUTER NETWORK CARD 3 1.3 FLASH TOOL CONFIGURATION 4 1.4 ACTIVATE BOOT-LOADER 5 1.5 FIRMWARE UPLOAD 6 2. REMOTE CONTROL – INTERNET BROWSER 7 2.1 REQUEST – STATUS REPORT 7 2.2 REQUEST –STATUS REPORT (EXTENDED FORMAT) 8 2.3 ROUTING - CAM & CCU 9 2.4 RELEASE –CHANNEL DESIGNATION (EXTENDED FORMAT) 9 2.5 RELEASE – CHANNEL DESIGNATION 10 2.6 RESET - OPTICAMSWITCH 11 3. SET NEW IP -ADDRESS AND SUBNET -MASK 12 3.1 KEY-SHORTCUT IN SERVICE CASE 12 4. TOPOLOGY FILE 13 4.1 STRUCTURE TOPOLOGY FILE 13 5. PROTOCOL 14 5.1 OUTPUT FORMAT 14 page 2/14 | Frank S. 1. Firmware Update Before starting with the firmware update, make sure that the opticamSWITCH is connected as shown in the picture 1.a below. Picture 1 1.1 Determine MAC & IP Address Defined MAC-Address can be determined with the software tool Stellaris Board Finder. Therefore start program (picture 1.b) and click on the button “Refresh” to start the tool scanning for network attached opticamSWITCH devices. Picture 1.b Picture 1.c Stellaris Board finder lists following parameter:  IP - Address  MAC - Address  Client IP – Address (default: 0.0.0.0)  Application (default: “Neutrik optiCAM Switch”)     page 3/14 | Frank S. 1.2 IP Address Configuration of the Host Computer Network Card For firmware update, the IP address must be defined for the network specific IP circle. Following properties have to be set before firmware upload. Prior to the first IP-address configuration, the factory default IP-address of any opticamSWITCH devices is 192.168.1.150  Open Network Configurations  Open Local Area Connection Properties  Double click on Internet Protocol Version 4 (TCP/IPv4)  Choose “use following IP address”  Specify IP-address within the same subnet as the connected opticamSWITCH  Enter on Subnet mask “255.255.255.0  Set “ok” Picture 1.d        192 .168 . 1 .149 255 . 255 . 255 .0 page 4/14 | Frank S. 1.3 Flash Tool Configuration For firmware update, the software tool “LM Flash Programmer” is required. Following properties have to be set before firmware upload.  Define “Ethernet” as interface.  Enter current IP-Address from the opticamSWITCH  Enter MAC-Address from opticamSWITCH as detected on section 1.1  Identification of network card from connected host computer. Picture 1.e     page 5/14 | Frank S. 1.4 Activate Boot-Loader N O T I C E : Activating the boot-loader is necessary on Windows XP or older versions only! Before firmware upload, activate boot-loader of the master controller. Therefore open an internet browse as e.g. Microsoft Internet Explorer, Mozilla Firefox, etc. and set following command. Command: http://192.168.1.150:8015/SET?f Picture 1.f Additionally, the boot-loader can be activated manually by pressing CAM8 and CCU3 in combination with power ON button (picture 1.e) while power is off. A successful activation is confirmed by a two second long beep () Picture 1.e page 6/14 | Frank S. N O T I C E : After activating the boot loader the opticamSWITCH cannot be controlled with internet browser! If the boot loader has been started accidently, the power cycle returns to normal operation. 1.5 Firmware Upload On section “Program” select current firmware (FW) file. To start the firmware upload, click on the button “Program”. Picture 1.g Picture 1.h In case of successful FW upload the software creates an automatic confirmation on the bottom of the window. Picture 1.i N O T I C E : In order to reset all relevant parameter from the opticamSWITCH software reset from the master controller (see section 3.1) has to be done after firmware update. Start Upload Select FW-file FW-Upload complete page 7/14 | Frank S. 2. Remote Control – Internet Browser The opticamSWITCH firmware is based on the “http1.1 protocol” and is fully remote control over any web browser like Microsoft Explorer, Mozilla Firefox, etc. All parameters will be indicated as text. 2.1 Request – Status Report Open internet browser (e.g. Microsoft Internet Explorer, Mozilla Firefox; etc.) and set following command. The browser lists all major parameter from the connected opticamSWITCH. Command: http://192.168.1.150:8015/SET? Picture 2.a Parameters Description Status Current routing configuration (e.g. 1258;0000, etc.) IP IP-address (default 192.168.1.150) NET Sub-net mask (default 0.0.0.0) MAC MAC-address HWRel current firmware version from master controller SWRel current software version Supply Active power supply (Main = master Ps; AUX = auxiliary PS) Temp Temperature – PCB board CCU Available CCUs CAM Routed CAMs (e.g. vacant = free; numbers of CAMs 1-8) Type Indicates current IPWC status (pos; neg; AC; low) Volt Voltage measurement Curr Current measurement Vlim Voltage limit Clim Current limit SafeOpV If the measured voltage is within the operation limits  YES; otherwise NO (the opticamSWITCH blocks the routing option) SafeOpC If the measured current is within the operation limits  YES; otherwise NO (the opticamSWITCH blocks the routing option) S-Fuse If proper working fuses  OK page 8/14 | Frank S. 2.2 Request –Status Report (Extended Format) Open internet browser (e.g. Microsoft Internet Explorer, Mozilla Firefox; etc.) and set following command below. The browser lists the same parameters from section 2.1 in a different format in order to enhance the integration on a third party software. Command: http://192.168.1.150:8015/SET?x Picture 2.b page 9/14 | Frank S. 2.3 Routing - CAM & CCU Last 4 digits in the command below indicate connected CCUs. To route camera (CAM) to a desired CCU, type in the number of output port (1-8) Command: http://192.168.1.150:8015/SET?0256 Picture 2.c Status: 0256 CCU 1  vacant CCU 2  connected to CAM 2 (output port 2) CCU 3  connected to CAM 5 (output port 5) CCU 4  connected to CAM 6 (output port 6) 2.4 Release –Channel Designation (Extended Format) With the command http://192.168.1.150:8015/SET?0256x the parameter are list in the extended format. Picture 2.d page 10/14 | Frank S. 2.5 Release – Channel Designation To release current channel designation set “0” on desired CCU* Command: http://192.168.1.150:8015/SET?0000 Picture 2.e page 11/14 | Frank S. 2.6 Reset - opticamSWITCH To reset the opticamSWITCH set following command on an internet browser. Command: http://192.168.1.150/SET?r Picture 2.f After software reset, the opticamSWITCH runs automatically an internal start-up self-test (when power supply is attached and if no channel routed) checking the function of all status LEDs of the device. The status LEDs switches from green, red and finally orange. Picture 2.g page 12/14 | Frank S. 3. Set new IP-Address and Subnet-Mask In case of using a new IP-address and Subnet-Mask, set addresses with following command. Command: http://192.168.1.150:8015/SET?IP=192.168.1.166;255.255.255.0 3.1 Key-Shortcut in Service Case In terms of service following key-shortcuts can be activated in combination with the power ON button while power is off. Press and hold CAM and CCU button, than press ON button. CAM CCU Function 8 1 Reset of IP-address (default 192.168.1.150) Reset of subnet mask default (0.0.0.0) A successful procedure is confirmed by 3 short beep with 1500 Hz () 8 2 Delete of “Sense-Fuse” – Error message after fuse replacement A successful procedure is confirmed by 2 short beep with 2000 Hz () 8 3 Activate Ethernet boot loader A successful procedure is confirmed by 1 short beep with 4500 Hz () 7 - Reset opticamSWITCH to factory default settings A successful procedure is confirmed by 2 long beep with 150 Hz () 2 - En/Disable output signals of the sense fuses Enable = 2 short beep with 4000 Hz () Disable = 1 short beep with 2500 Hz () 1 - Software reset of the master controller. New IP-Address (e.g. 192.168.1.166) New Subnet-Mask (e.g. 255.255.255.0) page 13/14 | Frank S. 4. Topology File The topology file is the link between the wiring schematic from the opticamSWITCH installation and the operator software and defines the start and end point from each connection. N O T I C E : For proper function from the operator software it is essential that the topology file and the wiring schematic are the exact image from the existing broadcast installation. Picture 4.a 4.1 Structure Topology File  IP address definition  Definition: opticamSWITCH output wiring  Definition: opticamSWITCH input wiring Picture 4.b    page 14/14 | Frank S. Program Code Description OS1 10.72.20.12:8015 IP Address from desired opticamSWITCH device CA1.A1 - OS1.IN1 Camera connection point 1 from Studio 1 is connected with opticamSWITCH 1 on input 1 OS1.OUT1 - CR1.CCU1 Output port 1 from opticamSWITCH 1 is connected to CCU1 from control room 1 Picture 4.c 5. Protocol The communication between the opticamSWITCH and the Client is based on a regular HTTP1.0 protocol and is compatible with the HTTP1.1 protocol. 5.1 Output Format Picture 4.b shows the output format and related character space (tab, blank line) if the opticamSWITCH is controlled with a web browser. Picture 4.d","libVersion":"0.3.1","langs":""}