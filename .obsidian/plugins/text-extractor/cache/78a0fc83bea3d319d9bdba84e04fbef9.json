{"path":"Referenced Material/PDF Library/Vendor/Dante/audinate-dante-domain-manager-broadcast-aes67-smpte-2110-interoperability-wp.pdf","text":"The Relationship Between Dante, AES67 and SMPTE ST 2110 Introduction to the SMPTE ST 2110 Implementation on Dante v1.0 - Dec 2019 Preface As of September 2019, all pieces of Audinate’s SMPTE ST 2110 implementation are publicly available. This also updates the pre-existing AES67 implementation, making it ST 2110-compatible and allowing for the multicast stream address to be manually determined. At Audinate, we felt the release of ST 2110 interoperability was a good time to share our vision for how Dante and open standards work together. This document also offers clarity on some myths and misconceptions we hear in the market today, especially around PTPv1 and PTPv2. Table of Contents A Brief History of Audio Networks Network Solutions Legacy: CobraNet and EtherSound Ethernet Evolves Audinate’s View of AES67 Origins: Desire for Interoperability between Network Solutions Birth of an “Interoperability Standard” (vs a “Network Solution”) Use the Right Tool for the Job Audinate’s View of SMPTE ST 2110 For Video: A Revolutionary Replacement for SDI For Audio: An Incremental Advancement of AES67 Audinate’s AES67 and SMPTE ST 2110 Implementation Choose a Mode: AES67 or SMPTE ST 2110 AES67 Support Recap AES67 Support in v4.2 SMPTE ST 2110 in v4.2 Summary – A Practical Take Appendix – FAQs PTPv1 and PTPv2 Other General Clarifications Works Cited 1. 1. 1. 1. 2. 2. 3. 5. 6. 6. 6. 9. 9. 10. 10. 11. 13. 14. 14. 17. 19. pg. A Brief History of Audio Networks Network Solutions LEGACY: COBRANET AND ETHERSOUND CobraNet (1996) and EtherSound (2001) are widely regarded as the first commercially successful audio networks. CobraNet initially used 10Mbit Ethernet networks; both experienced significant success on 100Mbit Ethernet links. System designers stretched these technologies to address systems of massive scale and consequence, such as convention centers, airports, theme parks, stadiums and live concert systems. ETHERNET EVOLVES In the years that followed, Ethernet standards critical for media networks evolved and matured substantially. At this time, those who would go on to develop Dante were participating in and authoring documents for standards organizations like the Internet Engineering Task Force (IETF), particularly on topics like zero-configuration networking, Real-time Transport Protocol (RTP), Precision Time Protocol (PTP) and Quality of Service (QoS). (Audinate, 2019) From the beginning, Audinate’s development team used their expertise to build Dante on these new and maturing network standards. This led to Dante’s unprecedented performance: tight synchronization, low latency, expansive scale and adaptability to different network speeds and technologies. For example, earlier network approaches recovered clock from streams of packets. With Dante, Audinate introduced the idea of synchronizing with PTP and then generating the required media clocks. This approach substantially relaxes the requirements on QoS. Thousands of media packets no longer require stringent QoS – only the few sync packets need traffic priority. Because CobraNet and EtherSound predated these standards, their engineers had to develop proprietary methods of addressing these challenges – and these methods did not allow for natural growth as Ethernet matured and provided more bandwidth. As a result, these pioneering systems became frozen in time, and are now considered legacy systems. 1. As broadcast audio system designs began using network solutions, they needed compatibility with traditional broadcast infrastructure. The natural solution was to put a device on the edge of the network that would offer traditional connections like analog, AES3 and MADI. (Harvey, 2014) As more production teams went to network-based solutions, one team’s edge device was often speaking to another edge device on another network. Each networked system was an island; analog, AES3 and MADI remained the universal languages at the “checkpoints” between systems. Audinate’s View of AES67 ORIGINS: DESIRE FOR INTEROPERABILITY BETWEEN NETWORK SOLUTIONS As early as 2009, a technical committee from the Audio Engineering Society authored a white paper entitled Best Practices in Network Audio where they began to recognize the “islands of operation” situation. In it, they observed similarities and differences: Since all audio networks used uncompressed PCM data, there was no complex difference in audio data such as codecs or data compression. While many networks of that time used proprietary baseband communications that were not mergeable, Dante and Livewire used standard Ethernet infrastructure. A “cross-platform” connection seemed possible. However, while the data carried in the packets was similar, the stream format was different, as were the synchronization schemes and the control API. In practice, these systems were not directly linkable without significant new development. A new solution would be required to make them compatible directly on the network. (Bouillot, et al., 2009) In the years that followed, work began on what would become AES67. The standard was published in 2013, updated in 2015 and 2018. The first significant public demonstration took place at AES-NY in October 2015. (MNA, 2015a) 2. ANALOG AES/EBU (AES3) MADI (AES10) Stadium Connected by Dante, Livewire+, Ravenna or WheatNetIPConnected Broadcast Truck Truck TeamStadium Team Figure 1: Audio teams are built on a network solution to maximize capability. Network “edge devices” commonly used analog, AES3 or MADI to exchange audio between teams. Before AES67, it was not possible to exchange audio between these teams on a common network. BIRTH OF AN “INTEROPERABILITY STANDARD” (VS A “NETWORK SOLUTION”) The Media Networking Alliance (MNA) was the industry organization formed to raise industry awareness for AES67. They described AES67 as follows: “AES67 enables audio-over-IP streaming interoperability between audio networking [solutions] currently available, such as Dante, Livewire+, Q-LAN, Ravenna [and WheatNet IP]. It is not a new technology, but a bridging compliance mode.” (MNA, 2015b) Here, we can see the MNA making a differentiation between the role of AES67 and that of other network solutions on the market. At the time, there wasn’t a term to describe AES67 – it was a new idea. Internally, Audinate landed on these two terms: interoperability standard: e.g. – AES67, SMPTE ST 2110 audio Meaning: A blueprint for basic audio or video transport over IP between products from competing network solutions. Interoperability standards typically lack administrative tools to control and manage streams the network – this remains a manual process. Interoperability standards are typically controlled by an open standards committee. Due to the number of companies building duplicative functionality in parallel, centralized testing of interoperability between all builds is a manual process and only happens in limited scope on rare occasions. If an operability problem arises, there is no independent support team to call for help in resolving the issue. network solution: e.g. – Dante, Livewire+, Q-LAN, Ravenna and WheatNet IP Meaning: A complete approach to audio- or video-over-IP networking, addressing the transport of media plus the administrative tools to control and manage the system. This makes it more accessible to real people in the real world. These services include features such as discovery, stream control and management, performance measurement, access security and network monitoring. 3. Bosch has always been a proponent of the inclusion of open standards in the Dante platform. It is a winning solution, delivering advanced functionality and continued innovation while maintaining universal interoperability throughout the facility. When people ask me if they should use Dante, AES67, or ST 2110, now I can simply answer, ‘yes.’ – ETHAN WETZELL, BOSCH COMMUNICATIONS SYSTEMS 4. Figure 2 clearly visualizes the relative capability of network solutions vs open standards. Network solutions address the higher levels of network management and security that open standards don’t. Unfortunately, this chart disguises the differences between various network solutions, which can be dramatic. Certainly, the organizations behind each network solution will have deeply held beliefs on why they approached their design in their own way. As such, the absence of higher-level functions should not be considered a failure of the technical committees behind AES67. To the contrary, the technical committees were wise to avoid these debates. By remaining pragmatic in scope – by narrowly focusing on the transport piece – AES67 was neither too weighty to get agreement from the various solutions nor too complex to be implemented. (Williams, 2015) While AES67 is certainly deployable by itself as an independent technology, it is cumbersome and limiting when used as a network solution. Anyone who has used a network solution like Dante would instantly recognize the additional work that AES67 entails and how the experience can be improved by using a network solution like Dante. In the best of circumstances, AES67 often requires technicians to manually set up a clocking structure. Then, to establish subscriptions, they need to “sneakernet” Session Description Protocol (SDP) files around the facility. This process will undoubtedly require technicians to install and manage several utilities and web browser tabs, the combination of which will change depending on the products being connected. But what AES67 achieves is connectivity between products from disparate audio network solutions. This is the trade-off – to get audio between network solutions, you inherently give up significant functionality. SECURITY CONTROL DISCOVERY TRANSPORT AES67WheatNet IPRavennaLivewire+Q-LANDanteFigure 2: Network solutions like Dante offer far more functionality than interoperability standards like AES67. AES67’s strength is its primitive nature, allowing for a common format between network solutions. (SSL, 2019) Network solutions are typically developed and controlled by a private group, allowing tight controls on the components, firmware/software development and the testing process, yielding a consistent experience and higher reliability. In the case of Dante, interoperability testing is automated, eliminating the need for “interoperability plugfests” or a device certification process. If a problem is encountered, there is an organization to call for help with expertise that can help determine the nature of the problem and work with the manufacturers to solve it. A network solution also invites deeper integration between products designed to be used together. Sticking to a network solution allows the whole of the design to offer more than just the sum of its parts. USE THE RIGHT TOOL FOR THE JOB When designing a system for an engineer or production team, it is wise to draw a circle around the equipment a team uses and keep that gear to a single network solution. That will dramatically reduce the number of utilities required, offer deeper control integration between products and a common approach to system diagnostics and monitoring. (Yamaha, 2016) 5. ANALOG AES/EBU (AES3) MADI (AES10) AES67 ST 2110 Stadium Connected by Dante, Livewire+, Ravenna or WheatNetIPConnected Broadcast Truck Truck TeamStadium Team Figure 3: Production teams should continue to build their systems on a network solution. When it comes time to pass streams to another team on a different platform, AES67 (and ST 2110) are viable options. The benefits of product families are well established. There are few things as standards based as network switches, and yet it is common to choose a product line or brand throughout a network design. The benefits are the same: better consistency, deeper integration. This goes even deeper than just user-friendly interfaces. A network solution like Dante is also more robust. Systems that requires manual set-up will require manual recovery from a failure; systems with automatic set-up can recover from a failure automatically – perhaps even seamlessly. When mix stems, iso lines and intercoms need to be sent between teams on different network solutions, AES67 becomes a viable option. Dante devices can send and receive Dante and AES67 simultaneously. You can have the advanced functionality of Dante’s powerful network solution, yet still have the interoperability of AES67 in your back pocket ready when you need it. w/ AES67 AES67 AES67 Figure 4: Dante devices supporting AES67 and/or ST 2110 can send and receive Dante and an interoperability standard simultaneously. Operators do not have to choose a format – they can use the right tool for each stream. Audinate’s View of SMPTE ST 2110 SMPTE ST 2110 is a suite of standards and specifications. While its primarily focus is on the transport of video, it also addresses the audio element of the stream. Because ST 2110 addresses both audio and video, some naturally assume the standard brings the same benefits to each discipline. While ST 2110 is interesting to the audio side, the reason for adoption is completely different and understanding this is important for more effective system designs. FOR VIDEO: A REVOLUTIONARY REPLACEMENT FOR SDI Video productions have always been bandwidth-challenged. At the beginning of any digital video production, decisions are made about what resolution to capture in, and whether video compression and/or restricted chroma subsampling are to be employed. The ST 2110 founding vision was audacious. The development team envisioned a world where 100Gbit switches were more ubiquitous, recognizing this would enable 8K uncompressed video (and even more as network speeds continue to increase.) The horsepower previously spent compressing video could be repurposed forwarding packets instead. But ST 2110 isn’t just about allowing for more bandwidth compared to SDI – it is also more efficient and more flexible. While SDI encapsulated audio, video and ancillary data in to one serial pipe, ST 2110 separates these elements to independent streams. For reference, the blanking regions alone occupied 16%-38% of HD-SDI bandwidth. (McAdams, 2015) By separating the audio, video and ancillary data streams, ST 2110 improves on SDI by providing substantial bandwidth relief to the participating devices. This improvement is appreciated by all equipment providers involved with video production. For video professionals, the promise of moving off a point-to-point solution like SDI and into a networked solution surely feels liberating. Even without automated patching and management tools, ST 2110 represents a massive step forward from SDI video. FOR AUDIO: AN INCREMENTAL ADVANCEMENT OF AES67 The audio interest in SMPTE ST 2110 is less revolution, more evolution. ST 2110 audio steams are essentially a carbon copy of AES67 - with a few parameters tightened down. This wasn’t an accident. To prevent competing universal bridging modes in the same industry, representatives from the AES technical committees that developed AES67 collaborated with those on the ST 2110 technical committees. So, everything said about AES67’s role applies to ST 2110, at least as a starting point. For audio teams, the appeal of SMPTE ST 2110 is largely for integration with the video world. In the past, sometimes video teams spoke the language of audio with AES3 or MADI connections, other times audio teams had to speak the language of video with SDI embed/de-embed devices. Since audio teams are already using network technology and ST 2110 is so closely related to the work already done for AES67, the adoption of ST 2110 was a manageable addition to streamline links to video teams. 6. It is noteworthy that a variety of industry organizations are attempting to enhance ST 2110 with by developing more linked standards and specifications. The JT-NM roadmap details development that will improve the experience over the existing AES67 or ST 2110 standards. This progress was summarized in the above “pyramid” chart by the EBU, showing that most of this is still under development. The transport element and synchronization tiers have reached a point of stability. More recently, SMPTE 2022-7 was referenced for redundant network configurations, deemed stable and has been included in Audinate’s ST 2110 implementation. Other proposed features are far less mature at this point. The current JT-NM roadmap shows NMOS elements (IS-04 discovery and IS-05 connection management) gaining significant adoption in the time period between Q3 2018 – Q2 2019. (JT-NM, 2018) This certainly seemed premature. Broadcasters are still reporting significant challenges with NMOS interoperability and stability. Given these difficulties, some major projects have been forced to use manual routing for AES67 and SMPTE ST 2110 – at least for now. (BBC, 2019) 7. Figure 5: In 2018, the EBU summarized the progress of the JT-NM roadmap towards “minimum user requirements”. In November 2019, this slide continues to represent the progress on the JT-NM roadmap web page. The green tip of the pyramid – media transport – is the only piece thought to be widely available. All other elements are in varying stages of development. (EBU, 2018) 8. Audinate has publicly expressed a goal of supporting AES67 and SMPTE ST 2110. No official comment can be made at this time about incorporating NMOS – the evolution and adoption of standards are obviously unpredictable. However, after Inter BEE 2019, Yamaha and Sony demonstrated Dante Domain Manager to be a key piece of network architecture that could enable an NMOS adaptation, if there is enough market demand. (H. Hamamatsu, personal conversation, November 20, 2019.) Moving beyond IS-04 and IS-05, the rest of the pyramid has hardly been addressed, yet. In the future, SMPTE ST 2110 supporters hope to tackle system configuration and monitoring, as well as network security features. This discussion reinforces the concept that network solutions are a different breed than interoperability standards. Everything in the JT-NM roadmap is already addressed by Dante with Dante Domain Manager today with real, mature products. And since Audinate supports SMPTE ST 2110, Dante products can offer the best of both worlds – the power of the network solution and the interoperability of the open standard. Providing both Dante and ST 2110 simultaneously on the same chipset is a significant advantage for SSL, our products and our clients. Television broadcast systems are fundamentally based on the integration of audio and video, and ST 2110 provides this interoperability standard on an IP infrastructure. Dante as a complete network solution removes the need for proprietary TDM audio routers. SSL’s system T console uses the Dante API to control audio routing on a COTS network infrastructure, directly from the console software. The Dante API provides automatic stream creation and includes unicast possibilities. Both are advantageous when dealing with the relatively light bandwidth but high channel count requirements of audio relative to video, especially when considering mono routing. – TOM KNOWLES, SOLID STATE LOGIC Audinate’s AES67 and SMPTE ST 2110 Implementation As of September 2019, all elements of Audinate’s SMPTE ST 2110 implementation are publicly available. This involves certain Dante chipsets with device firmware v4.2, Dante Controller v4.2, and Dante Domain Manager v1.1. Because many features are enhanced with the Dante Domain Manager server, it helps greatly to understand the benefits this server delivers and the role it plays. Watch the introductory training video at right to learn more about the core functions and terminology. Further videos in the series may answer more questions on clocking and Layer 3 networks. Choose a Mode: AES67 or SMPTE ST 2110 To use AES67 or ST 2110 on Dante devices, the user will choose one open standard to support. The significance is not about compatibility – AES67 and ST 2110 can be made to be compatible. (AIMS, 2019) The choice is more about how you want to work. The functionality and requirements of each mode reflect the requirements presented by the standards organizations in their respective interop events. As work began on SMPTE ST 2110 functionality, it was very clear these groups wanted far more depth of control than the early users of AES67 desired. Offering two modes seemed to be a better approach than requiring existing AES67 users to take on additional responsibilities and learn significant new controls as the result of a natural firmware update. Thus, the two modes were born. It should be noted that for AES67, Dante Domain Manager is optional. For SMPTE ST 2110, the depth of configuration called for a central management solution offered in Dante Domain Manager. 9. An In-Depth Look at Dante Domain Manager (16:52) https://youtu.be/xCY3JNpCu_k AES67 Support Recap Audinate first added AES67 support to the Dante platform in 2015. In 2018, Roland Hemming released an industry survey that counted the products supporting various audio- over-IP methods – including AES67. He estimated 75% of the AES67 devices on the market were Dante devices, natively. (Hemming, 2018) Audinate’s original AES67 implementation is appropriate for smaller networks or systems that do not require or desire manual management. The devices will automatically negotiate a PTPv2 clock, based on the Best Master Clock Algorithm (BMCA) election process defined in the PTPv2 standard. Multicast AES67 audio streams can be transmitted and received. When creating a multicast audio stream, a standard profile is applied to most parameters in the SDP file. An SAP announcement will be generated by the transmitting device so other devices can discover it. SAP is an IETF standard and is acknowledged by the AES67 standard. Audinate added SAP to enable a baseline, plug-and-play mode of operation for AES67 which is standards based and supported by Dante devices. For a Dante device to receive an AES67 stream, an SAP announcement is required so Dante Controller can discover the stream and instruct a Dante device to subscribe to it. If the transmitter does not provide an SAP announcement, an external utility is required to generate one. Since the AES67 standard does not address redundancy, the AES67 mode only uses the primary network, even if a Dante device supported network redundancy for Dante. AES67 Support in v4.2 FEATURES WITH OR WITHOUT DANTE DOMAIN MANAGER V1.1: • Audinate’s AES67 SDP profile has been updated to include a fixed time offset, making the stream SMPTE ST 2110-compatible. • It is now possible to manually configure the multicast IP address and port for transmitted streams. WHEN USED WITH DANTE DOMAIN MANAGER V1.1: • With Dante device firmware v4.2 and Dante Domain Manager v1.1, devices can use AES67 and be enrolled in Dante Domain Manager at the same time. • If a transmitter does not provide an SAP announcement or if it is not desired to have the announcement on the network, Dante Domain Manager v1.1 can accept manually entered SDP data and reveal the stream in a specific domain to instances of Dante Controller. This is especially helpful to administratively filter the results of a large network. • Dante devices can receive AES67 and ST 2110 streams from other Dante devices. The SDP data can be returned to Dante Controller through Dante Domain Manager v1.1, where the advertisement will only show in a specific domain. 10. All other AES67 (222 devices)w/ AES67 (666 devices) Figure 6: Dante devices with AES67 support accounted for approximately 75% of the total AES67 devices on the market. (Hemming, 2018) SMPTE ST 2110 in v4.2 Support for SMPTE ST 2110 requires the presence of Dante Domain Manager. The Dante Domain Manager interface offers granular control of clocking distribution and SDP descriptions, and the ability to propagate these settings to devices on a domain-by-domain basis. Compared to other solutions that require manual transcription of parameters from device to device, Dante Domain Manager’s central management greatly accelerates set-up and reduces troubleshooting time. Dante Domain Manager also offers the ability to secure the link to its managed devices. Dante Domain Manager can limit control for some users, as well. For instance, an administrator can create audio operators that can only route audio within their system, while a system technician might be allowed to change IP settings or clocking trees on a collection of systems. These features are key in large installations, protecting against errant mouse clicks and keystrokes. Figure 7: The configuration screen for an ST 2110-3x stream on a Dante device. Choose the participating channels, the SMPTE ST 2110 audio level, and the multicast stream address(es). 11. ST 2110 Suite: Audinate supports the above SMPTE standards and Audio Levels. 12. SMPTE “Audio Levels” DESCRIPTION 1 - 8 channels 1 - 8 channels 1 - 64 channels A B C (All streams are 24-bit, 48kHz) PACKET TIME 1.000msec 0.125msec 0.125msec Audinate’s SMPTE Standard Support SMPTE 2059 SMPTE 2110-10 SMPTE 2110-30 SMPTE 2110-31 SMPTE 2022-7 PTPv2 Media Profile (aka IEEE 1588-2008) System Timing Model (between components) Audio Transport (Similar to AES67) Bit Transparent Delivery Resilience (Redundancy) Dante devices with redundant ports also support SMPTE ST 2110 streams with SMPTE 2022-7 network redundancy. As with the improved AES67 mode, operators can manually determine the multicast IP addresses and ports on the primary and secondary networks. SDP files can be imported through Dante Domain Manager and shown on a domain-by-domain basis. And, if desired, Dante devices can be made to receive open standards streams from other Dante devices. As an early adopter of Dante, Focusrite has deployed tens of thousands of Dante-enabled RedNet interfaces in the field. Audinate’s addition of ST 2110 connectivity to the Dante solution is key as the industry migrates from an SDI to an IP backbone. The fact that this is a free firmware update is a testament to the long-term support for customers of Dante and Focusrite. – RICH NEVENS, FOCUSRITE Summary – A Practical Take Network solutions for the audio world have been in use for over 20 years. All were developed with a customer and a use-case in mind, considering not only the fundamental technology but also the tools to effectively manage the workflow. Dante represented a turning point for audio networks. It is built on standards, which allowed the system to achieve new levels of performance and scale. Further, Dante was developed with a networking workflow in mind, offering more than just the tools to create subscriptions. Dante provides a comprehensive solution to deploy, manage, secure and maintain the system. Interoperability standards like AES67 and ST 2110 evolve differently. Their goal is to provide a blueprint for a network stream that can be implemented amongst multiple providers. Implementations typically remain primitive, often requiring manual operation of common processes. Manufacturers must pour work into duplicative code bases that need to be tested for interoperability. However, interoperability standards are a viable option to move data between teams that are built on network solutions. It should be noted that the ST 2110 opportunity is entirely different for the audio and video disciplines. For video teams, the opportunity to move from an aging point-to-point SDI connection to an IP based solution represents a massive step forward. But for audio teams, even with the NMOS on the horizon for ST 2110, network solutions like Dante offer far more maturity and functionality for the system deployment, maintenance and security. Given all this, the best advice is to draw a circle around an audio production team and keep them to one network solution (like Dante). When a connection is needed to a team on a differing network solutions – or to a video team based on ST 2110 – Dante’s support of AES67 and ST 2110 interoperability standards are available to communicate directly on the network. 13. Yamaha has long been known for ‘format neutrality’ – a reputation borne from our MY cards providing over thirty connectivity formats and options. Maintaining this selection of option cards was neither a pleasure nor a profit center; it was simply a necessity to support our core business of producing quality professional audio tools. For nearly a decade, we have closely followed the development of AES67 – and later ST 2110 – working closely with Audinate and other key Dante licensees. Today, we are excited that our customers can enjoy the sophistication of Dante in their system designs and the convenience of compatibility with other facility systems all wrapped into our native Dante solution. – TAKU NISHIKORI, YAMAHA Appendix – FAQs PTPv1 and PTPv2 IEEE1588-2002, Precision Time Protocol (PTPv1) is a standard used in many industries to synchronize devices on the network with sub-microsecond accuracy. For the audio-video world, this is so accurate that networked audio and video devices can derive a common word clock or video sync from the PTP clock. As a result, PTP replaces massive BNC clock distributions and other mechanisms to interlock various cyclical clocks. PTPv1 was published at about the time core development of Dante’s synchronization and transport mechanisms were ramping up. PTPv2 arrived later and was referenced by AES67 and SMPTE ST 2110. The two versions have led to numerous misconceptions in the industry. This FAQ will attempt to bring clarity on the issue of PTPv1 vs PTPv2. Q: Can Dante devices use PTPv2 for network synchronization? A: Yes. Audinate introduced AES67 support in 2015, and SMPTE ST 2110 support in 2019. Any Dante device with either mode engaged will prefer PTPv2. The behavior is a bit different between the AES67 and ST 2110 modes: When AES67 is enabled, Dante devices participate in the Best Master Clock Algorithm (BMCA) election to negotiate a clock master based on priority rules laid out in PTPv2. When SMPTE ST 2110 is enabled, Dante devices have the option to be forced into slave-only mode in accordance with the ST 2110 standard. With slave-only enabled, Dante devices will remain in the slave state waiting for a grandmaster to appear on the network. Dante Domain Manager provides the control interface to administratively set clock configurations consistently across groups of devices. 14. Timeline of PTP Development/Usage PTPv2 (IEEE1588-2008) AES67 ST 2110 Dante core development PTPv1 (IEEE1588-2002) 2002 2003 2006 2008 2013 2018 Q: Can PTPv1 and PTPv2 co-exist on the network? A: Yes. In fact, the PTP standard explicitly requires PTPv1 and PTPv2 to co-exist. Section 10.1 of the PTPv2 standard specifically requires the co-existence of PTPv1 and PTPv2 in a network and declares common sense ground rules for how it works. (IEEE, 2008) Any PTPv2 system that interferes with PTPv1 traffic would be out of compliance. Q: Why do Dante devices still use both PTPv1 and PTPv2? A: Backwards compatibility. The number of Dante devices deployed measures in the millions. PTPv1 support is retained to ensure backward compatibility at all times. Q: How do Dante devices manage running PTPv1 and PTPv2 simultaneously? A: Boundary Clocks. Broadcasters are accustomed to establishing larger clocking structures. A grandmaster is the original clock, which can distribute signal to multiple devices in a clocking domain. Some devices will serve as a “boundary clock”, re-distributing clock to more downstream devices or additional boundary clocks, and so the chain continues to build a clocking tree. Any slave in this environment will sync to their nearest boundary clock. All Dante devices with AES67 or ST 2110 support engaged will prefer to use PTPv2 as the primary clock source. Of those devices, one will be elevated in the Dante clock election process to become a boundary clock for redistribution of PTPv1 in a separate clocking domain. This method was first implemented in 2015 with the AES67 release. Perhaps the reason many did not know this feature existed is because it is an automatic process – there weren’t any controls specifically calling this out. Of course, Dante Controller and Dante Domain Manager offer tools to allow manual control over the clocking architecture, but this is not required for normal operation. 15. Figure 8: Dante devices supporting open standards use PTPv1 and PTPv2 simultaneously. When AES67 or ST 2110 is engaged, PTPv2 masters are preferred. Of the Dante devices chasing PTPv2, one will be automatically elected as a boundary clock for any devices that only support PTPv1. Boundary Clock PTPv1 PTPv1 Grandmaster Clocking Domains PTPv2 PTPv2 PTPv2 Q: Can Dante use GPS clocks? A: Yes, and this ability was enhanced in Dante Domain Manager v1.1. Many PTP grand master clocks support the use of GPS as their clock source. This allows massive networks or geographically disparate systems to operate synchronously even when the link between subsystems is not stable enough to support PTP. Effectively, GPS becomes the grandmaster. When you add Dante Domain Manager, you get more direct interaction with GPS clocks and more granular control over the creation of clocking domains, and trees for sync distribution. Q: How does Dante Domain Manager use PTP in managed Dante Domains? A: Both PTPv1 and PTPv2 are used to ensure seamless operation across routed network infrastructure, without the need for custom switch configuration. Each subnet of each domain will have its own boundary clock (as shown in Figure 8). The boundary clocks can link across routers using a unicast version of PTPv2 or another resolved PTPv2 source already on the network. The Dante Domain Manager administrator has granular control over the clocking tree design. 16. Figure 9: Dante Controller v4.2 shows PTPv1 and PTPv2 status on primary and secondary networks. 17. Other General Clarifications Q: Is AES67/ST 2110 Packet Time the same as Latency (as set in Dante Controller)? A: No. Packet Time (Packetization Time) is only part of resulting latency. Audio streams do not require very much data. In fact, if one sample of one channel was sent in a network packet, the overhead of packet delivery would far outweigh the audio data in it. So, audio networks bundle audio data in two dimensions: multiple samples of multiple channels are spooled up and combined in the same network packet. Rx at Network Solution PlayoutSamples Spooled Packet Time Total Latency Data Sent Across Network Buffer for Network Variation Samples Reassembled Tx Rx Figure 10: “Packet time” is often quoted by open standards groups when describing latency. By ignoring other latency sources, phase alignment issues can easily crop up in signal distribution. By contrast, Dante devices always describe latency based on playout time so system designers can easily ensure signals remain phase coherent. Packetization Time (Packet Time): The amount of time samples are spooled up before the packet is sent to the network. Total Latency (Playout Time): The end-to-end latency, from the time an audio sample is delivered to the transmitter until it plays out the receiver. Beyond packetization time, the packets must traverse the network, be reassembled at the receiver and wait in buffers for playout time. Section 7.2 to 7.5 of the AES67 standard specify these factors shall be at least the longer of 500μsec or double the packet time. (AES, 2018) When AES67 and ST 2110 describe latency, the focus is often on packet time. When distributing signals to multiple destinations using AES67, the resulting playout time can vary significantly, and it is subject to the capabilities of the endpoint. This could lead to surprising phase coherency issues in distribution. The Dante ecosystem has always described latency by playout time, ensuring phase alignment will be more accurately maintained across multiple endpoints. 18. Q: Can a Dante device send AES67 or ST 2110 streams to another Dante device? A: Yes, with Dante device firmware v4.2 and Dante Domain Manager v1.1. Before Dante Domain Manager v1.1, Dante devices would not send AES67 streams to each other – they used a Dante stream instead. This certainly reflected Audinate’s view that engineers would choose a network solution over an open standard when possible. Such viewpoints are rooted in practical leadership. If a Dante device receives a Dante stream and an AES67 stream from the same transmitter, each steam will use its own latency rules. As a result, disparate streams would likely have different playout times, resulting in audible phasing artifacts on phase-related signals. By sticking with Dante subscriptions in these situations, these problems are avoided. However, some customers had valid use cases for open standard streams between Dante devices. Typically, these involved signal splits to teams on different solutions, especially in bandwidth-limited, distant connection environments. All agreed this desire was the rare exception, not the rule. And if technicians were careful to subscribe phase-coherent signals using the same steam type, phase alignment could be maintained. So, the ability to route AES67 or ST 2110 streams between Dante devices was added through Dante Domain Manager v1.1. To make the stream appear in Dante Controller, simply redirect the SDP from the transmitter to be advertised in the target domain. Dante Controller will then display the stream, and Dante devices with AES67 or ST 2110 engaged can subscribe to it. Q: Does Audinate’s v4.2 firmware support ST 2059, ST 2110-10 and ST 2022-7? A: Yes. ST 2059 and ST 2110-10 create a specific approach to PTPv2 and how devices will relate time synchronization to each other. The implementation would not work without these pieces. ST 2022-7 addresses resiliency (redundant networks). ST 2022-7 has an option for redundant network connections to be placed in the same subnet and broadcast domain. Dante does not have an option to operate in this environment, but Audinate did allow Dante functions to be disabled to support this option. In this scenario, the Dante devices would be placed in separate VLANs (or possibly separate hardware), then bridge to a network with an extra Dante port uniquely placed in this configuration. This should offer a bit of insight to the depths Audinate has gone for compatibility. Works Cited All internet links tested as valid Nov 21, 2019. AES. (2018, 04 15). AES67-2018 Specification. http://www.aes.org/publications/standards/search.cfm?docID=96 AIMS. (2019, 04 30). AES67 / SMPTE ST 2110 Commonalities and Constraints. https://aimsalliance.org/wp-content/uploads/2019/04/AES67-SMPTE-ST-2110-Commonalities-and-Constraints-Updated-April-2019.pdf Audinate. (2019, 08 28). Company Leadership Web Page. https://www.audinate.com/company/leadership BBC. (2019, 10 06). BBC Cardiff Central Square - Update. https://youtu.be/3GwuGyOmzxM?t=1168 Bouillot, N., . . . Zanghieri, U. (2009, 06 04). Best Practices in Network Audio. http://www.aes.org/technical/documents/AESTD1003V1.pdf EBU. (2018, 12). EBU TECH 3371. https://tech.ebu.ch/pyramid Harvey, S. (2014, 01 01). The Future of TV Workflow: Dante Networking for “The Arsenio Hall Show”. https://www.mixonline.com/sfp/future-tv-workflow-dante-networking-arsenio-hall-show-369327 Hemming, R. (2018, 6 19). Networked Audio Products. http://www.rhconsulting.eu/blog/files/NetworkedAudio.html IEEE. (2008 07 24). 1588-2008 - IEEE Standard for a Precision Clock Synchronization Protocol for Network Measurement and Control Systems. https://ieeexplore.ieee.org/document/4579760 JT-NM. (2018, 09 01). Joint Task Force on Networked Media (JT-NM) Roadmap. http://jt-nm.org/roadmap/ McAdams, D. (2015, 10 27). SDI vs. IP: Fox’s Thomas Edwards on VSF TR-03. https://www.tvtechnology.com/news/sdi-vs-ip-foxs-thomas-edwards-on-vsf-tr03 MNA. (2015a, 10 27). MNA presents live AES67 demonstration. http://medianetworkingalliance.com/wp-content/uploads/2015/10/MNA_AES_2015_FINAL.pdf MNA. (2015b, 10 28). FAQ | Media Networking Alliance. https://medianetworkingalliance.com/faq/ SSL. (2019, 09 05). From Audio Over IP - IP Technology for Broadcast Audio Routing Systems. https://s3.us-west-2.amazonaws.com/sslweb.solidstatelogic.com/content/system-t/SSL%20AoIP%20Information.pdf Williams, A. (2015, 3 16). Dante, AES67 & AVB - with Audinate CTO Aiden Williams. https://youtu.be/E_E5JEVGH9c?t=126 Yamaha. (2016, 11 15). Introduction to AES67. https://youtu.be/AmdFXxQp_Ic?t=1923 19.","libVersion":"0.3.1","langs":""}